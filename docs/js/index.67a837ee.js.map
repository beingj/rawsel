{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/ipmi/ext.ts","webpack:///./src/App.vue?4abc","webpack:///./src/components/Sel.vue?3f06","webpack:///./src/components/Common.ts","webpack:///./src/ipmi/sdr.ts","webpack:///./src/ipmi/sel.ts","webpack:///./src/ipmi/ipmi.ts","webpack:///./src/ipmi/tool.ts","webpack:///./src/components/Sel.vue?170a","webpack:///./src/components/Sel.vue?3c89","webpack:///./src/components/Sel.vue","webpack:///./src/components/Sdr.vue?9ed0","webpack:///./src/components/Sdr.vue?e8c3","webpack:///./src/components/Sdr.vue?0abe","webpack:///./src/components/Sdr.vue","webpack:///./src/components/Help.vue?6de7","webpack:///./src/components/Help.vue?198c","webpack:///./src/components/Help.vue?5e79","webpack:///./src/components/Help.vue","webpack:///./src/App.vue?86e8","webpack:///./src/App.vue?93a9","webpack:///./src/App.vue","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","indexOfOr","x","def","bitsOr","len","bit_n","bits","Number","toFixed2","Math","floor","this","toString","toFixed","toHex","width","undefined","padStart","toHexh","toDecHexh","Date","today","date","setHours","format","fmt","getMonth","getDate","getHours","getMinutes","getSeconds","S","getMilliseconds","k","test","replace","RegExp","$1","getFullYear","substr","Array","_vm","_h","$createElement","_c","_self","attrs","_v","on","$event","switch_page","directives","rawName","page","expression","bag","staticClass","_s","staticRenderFns","preventDefault","add_drop_file","model","callback","$$v","files","headers","rows","scopedSlots","_u","fn","ref","item","sm","_g","_b","sn","_e","ed2p","ed2","ed3p","ed3","read_file","on_data","as_text","File","file","reader","FileReader","onload","_","readAsText","readAsArrayBuffer","dv","offset","record_id","getUint16","sdr_version","getUint8","record_type","record_length","next_record","event_type","sensor_type_n","sensor_num","sensor_name","bin","DataView","buf_len","byteLength","sdrs","sdr","rt","SdrRecordType","Full","Compact","EventOnly","FruDeviceLocator","ManagementControllerDeviceLocator","OEM","SdrRecord","String","fromCharCode","sensor_type","name_of_st","unit1","signed","unit","name_of_unit","linear","two_complement","b","rexp","bexp","EventType","threshold","threshold_mask","v","unr","uc","unc","lnr","lc","lnc","p_event","event","reading","get_reading_formula","reading_formula","get_reading_formula_text","update_threshold","get_id_string","thresholds","forEach","f","name_of_linear","m_b_bexp","b_bexp","f2","m_b_bexp_r_rexp","raw","parseInt","y","pow","Linearization","ln","log","log10","log2","e","exp","exp10","exp2","reciprocal","sqr","cube","sqrt","cubeByNegOne","Error","a","Uint8Array","buffer","h","join","timezone","SelRecord","id","name_of_sel_rt","time_seconds","timestamp","timestamp_with_timezone","generator","event_receiver","event_direction","name_of_et","event_data_field","p_edf","event_data2","event_data3","st","et_offset","need_parse","includes","ipmi","event_data","event_data2_parsed","d2","event_data3_parsed","d3","tz","str","match","from_raw","ab","str2ArrayBuffer","from_bin","ArrayBuffer2str","getUint32","split","map","trim","getTimezoneOffset","b76","b54","discrete","generic_event_type_codes","unspecified","Threshold","severity","availability","redundancy","sensor_type_codes","reserved","Temperature","Voltage","Current","Fan","Processor","Memory","Chassis","Terminator","LAN","Battery","selr","error_types","0","et","dir","os","actions","types","causes","uses","u","isLogic","user","cause","ch","SensorUnitTypeCodes","name_of_sdr_rt","name_of","keys","p_generic_event","p_sensor_event","values","myEnum","enumMember","buf","ArrayBuffer","bufView","strLen","charCodeAt","TextDecoder","decode","extend","props","text","align","sortable","methods","dataTransfer","from","update_sel_with_sdr","sels","sdr_has_sensor_num","filter","indexOf","index","sdrr","find","$set","watch","pop","update","__","from_str","ts","ge","ed","edf","component","VContainer","VDataTable","VFileInput","VTooltip","rd","default_raw_reading","sorted_threshold","vs","NaN","update_mathjax","$nextTick","MathJax","Hub","Queue","row","si","fo","re","un","th","VTextField","components","Sel","Sdr","Help","loading","created","VApp","VAppBar","VBtn","VFooter","VMain","VSpacer","VToolbarTitle","VToolbar","use","config","productionTip","myapp","vuetify","render","App","$mount"],"mappings":"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CACA,yBACA,6BACA,WACA,kBACA,qDAGR,CAEI,aAAc,CACV,sBACA,oBACA,wBACA,yBACA,0BACA,yCACA,mCACA,+CAGR,CAEI,eAAgB,CACZ,sBACA,wBACA,uCACA,+BACA,aACA,2BAGR,CAEI,qBAAsB,CAClB,yCACA,cACA,wBACA,eACA,WACA,WACA,yBACA,wBACA,0BACA,8BACA,kBACA,iBAGR,CAEI,kBAAmB,CACf,uBACA,uBACA,uBACA,iBACA,+BAGR,CAEI,iBAAkB,IAEtB,CAEI,gCAAiC,IAErC,CAEI,cAAe,IAEnB,CAEIC,QAAS,IAEb,CAEI,WAAY,CAAC,6BAA8B,iBAE/C,CAEI,YAAa,IAEjB,CAEI,uBAAwB,CACpB,kCACA,wBAGR,CAEIC,WAAY,IAEhB,CAEI,kCAAmC,CAC/B,wBACA,gEACA,gEACA,0BACA,+BACA,8CACA,8CACA,mBAGR,CAEI,aAAc,CACV,oBACA,sCACA,uBACA,sBACA,sDAGR,CAEI,qCAAsC,CAClC,oBACA,oBACA,qBACA,4BACA,wBACA,qBACA,6CACA,2CACA,4CACA,0CACA,2CAGR,CAEI,qBAAsB,CAClB,gDACA,6DACA,mBACA,uBACA,iCACA,yBAGR,CAEI,mBAAoB,CAChB,wBACA,2BACA,6CACA,iDACA,0CACA,oBACA,0CACA,qBACA,mBACA,4BAGR,CAEI,0BAA2B,CACvB,kBACA,6DACA,sCACA,6DACA,0CACA,mBACA,kEACA,sBACA,sCACA,cACA,yBACA,kBACA,mBACA,cACA,YAGR,CAEI,aAAc,CACV,6BACA,aACA,aACA,cACA,WACA,WACA,WACA,WACA,oBAGR,CAEI,iBAAkB,CACd,0BACA,+BACA,gCACA,6CAGR,CAEI,kBAAmB,CACf,iBACA,gBACA,oBAGR,CAEI,oBAAqB,IAEzB,CAEIC,IAAK,CAAC,qBAAsB,kBAEhC,CAEI,8BAA+B,CAC3B,wCACA,4CACA,iCACA,oCACA,iBACA,gBAGR,CAEIC,QAAS,CACL,mCACA,iBACA,8BAGR,CAEI,gBAAiB,CACb,oBACA,sBACA,+BACA,6BAGR,CAEI,iBAAkB,CACd,kDACA,8DACA,2DACA,uEACA,0DACA,yEACA,iEACA,0EAGR,CAEI,YAAa,CACT,oBACA,iDACA,2BACA,6BACA,aACA,6BACA,+BACA,4BAKNtC,EAOF,CACA,EAAM,CAEF,EAAM,SAACuC,GAEH,MAAO,CAAErC,GAAI,uBAAF,OAAyBqC,EAAK9C,gBAGjD,EAAM,CAEF,EAAM,SAAC8C,GAEH,IAAMC,EAAc,CAChB,kBACA,oBACA,oBACA,+BACA,2BAEJ,MAAO,CACHpC,GAAIoC,EAAYnP,UAA6B,GAAnBkP,EAAK7C,YAAmB,eAI9D,GAAM,CAEF+C,EAAM,SAACF,GAEH,MAAO,CAAEnC,GAAI,WAAF,OAAamC,EAAK7C,gBAGrC,GAAM,CAEF+C,EAAM,SAACF,GAEH,IAAMC,EAAc,CAChB,cACA,yDACA,0BACA,mDACA,qCACA,2CACA,6CACA,6CACA,iCACA,yCACA,2BACA,0CACA,0DACA,8BAEJ,MAAO,CAAEtC,GAAIsC,EAAYnP,UAAUkP,EAAK9C,YAAa,cAIzD,EAAM,SAAC8C,GAEH,IAAMC,EAAc,CAChB,cACA,wBACA,2BACA,wCACA,sBACA,8BACA,6BACA,6BACA,4BACA,uBACA,uBACA,wBACA,qCACA,2DACA,6BACA,2BACA,2BACA,4BACA,0CACA,+DACA,0CACA,WACA,wBACA,gBACA,uBACA,oCAEJ,MAAO,CAAEtC,GAAIsC,EAAYnP,UAAUkP,EAAK9C,YAAa,eAG7D,GAAM,CAEFgD,EAAM,SAACF,GAEH,MAAO,CAAErC,GAAI,WAAF,OAAaqC,EAAK9C,eAEjC,EAAM,SAAC8C,GAEH,IACInR,EADEsR,EAAKpD,EAAWiD,EAAK9C,aAE3B,GAAI8C,EAAK7C,aAAe,IAAM,EAC1BtO,EAAI,6DACD,CACH,IAAMuR,EAAMJ,EAAK7C,aAAe,IAAM,EAAI,SAAW,WAC/CkD,EAAKxG,EACPmG,EAAK9C,YACc,GAAnB8C,EAAK7C,YACL,KAEJtO,EAAI,2BAAH,OAA8BuR,EAA9B,aAAsCC,GAE3C,MAAO,CAAE1C,GAAIwC,EAAItC,GAAIhP,IAEzB,EAAM,SAACmR,GAEH,MAAO,CAAEnC,GAAI,GAAF,OAAKmC,EAAK7C,YAAV,YAEf,EAAM,SAAC6C,GAEH,IAAMjP,EAAKiP,EAAK7C,aAAe,EAAK,EAC9BU,EACI,IAAN9M,EACM,yBACA,mCACV,MAAO,CAAE4M,GAAI,IAAF,OAAMqC,EAAK9C,aAAeW,QAG7C,GAAM,CAEF,EAAM,SAACmC,GAEH,IAAMM,EAAU,CACZ,cACA,kEACA,+DACA,cACA,eACA,eAEEC,EAAQ,CAAC,UAAW,QAAS,SAC7BvE,EAAIsE,EAAQxP,UACbkP,EAAK9C,aAAe,EAAK,GAC1B,YAEEnN,EAAIwQ,EAAMzP,UAA6B,GAAnBkP,EAAK9C,YAAmB,YAClD,MAAO,CAAES,GAAI,GAAF,OAAK5N,EAAL,aAAWiM,KAE1B,EAAM,SAACgE,GAEH,IAAMM,EAAU,CACZ,QACA,YACA,QACA,cACA,aACA,8BAEEtE,EAAIsE,EAAQrP,OAAO+O,EAAK9C,YAAa,YAC3C,MAAO,CAAES,GAAI3B,EAAEI,KAAK,QAExB,EAAM,SAAC4D,GAEH,IAAMvP,EACFuP,EAAK9C,aAAe,IAAM,EAAI,gBAAkB,iBAC9CnN,EAC2B,KAAT,GAAnBiQ,EAAK9C,aACA,8BACA,8BACV,MAAO,CAAES,GAAI,GAAF,OAAK5N,EAAL,aAAWU,MAG9B,GAAM,CAEFyP,EAAM,SAACF,GAEH,IAAMO,EAAQ,CACV,kBACA,6DACA,sCACA,6DACA,0CACA,mBACA,kEACA,sBACA,sCACA,iDACA,yBACA,kBACA,oBAEE5Q,EAAI4Q,EAAMzP,UAAUkP,EAAK9C,YAAa,YACtC/N,EAAIoR,EAAMzP,UAAUkP,EAAK7C,YAAa,YAC5C,MAAO,CACHQ,GAAI,0BAAF,OAA4BhO,GAC9BkO,GAAI,mCAAF,OAAqC1O,MAInD,GAAM,CAEF,EAAM,SAAC6Q,GAEH,IAAMQ,EAAS,CACX,UACA,0BACA,uBACA,gCACA,sBACA,MACA,sFACA,oGACA,gBACA,sBACA,iCACA,oBAEJ,MAAO,CACH7C,GAAI6C,EAAO1P,UAAUkP,EAAK9C,YAAa,YACvCW,GAAI,iBAAF,OAAmBmC,EAAK7C,gBAItC,GAAM,CAEF+C,EAAM,SAACF,GAEH,IAAMO,EAAQ,CACV,MACA,cACA,gCACA,UACA,yCACA,gEACA,cACA,qBACA,MACA,cACA,kBACA,cAEJ,MAAO,CACH5C,GAAI4C,EAAMzP,UAA6B,IAAnBkP,EAAK9C,YAAoB,YAC7CW,GAAI,mBAAF,OAAqBmC,EAAK7C,gBAIxC,GAAM,CAEF+C,EAAM,SAACF,GAEH,IAAMO,EAAQ,CAAC,OAAQ,MAAO,MAAO,uBAC/BE,EAAO,CACT,WACA,YACA,YACA,UACA,SACA,OAEE1Q,EAAIwQ,EAAMzP,UACXkP,EAAK9C,aAAe,EAAK,GAC1B,eAEEwD,EAAID,EAAK3P,UAA6B,GAAnBkP,EAAK9C,YAAmB,eACjD,MAAO,CAAES,GAAI,mBAAF,OAAqB5N,EAArB,wBAAsC2Q,MAGzD,GAAM,CAEF,EAAM,SAACV,GAEH,MAAO,CAAErC,GAAI,iBAAF,OAAmBqC,EAAK9C,YAAYlL,YAEnD,EAAM,SAACgO,GAEH,IAKInC,EALEjI,EAAMoK,EAAK9C,YACXyD,EAA+B,KAAnB/K,GAAO,EAAK,GACxB+H,EAAK,YAAH,OACJgD,EAAU,GAAK,OADX,sCAEuB/K,GAAO,EAAK,EAFnC,oBAEwD,EAANA,GAQ1D,OALIiI,EADA8C,EACK,gBAEA,wCAET9C,GAAM,KAAJ,OAASmC,EAAK7C,YAAYnL,UACrB,CAAE2L,KAAIE,QAGrB,GAAM,CAEF,EAAM,SAACmC,GAEH,IAAMY,EAA0B,GAAnBZ,EAAK9C,YACZsD,EAAS,CACX,2CACA,+CACA,iCACA,+CAEEK,EAAQL,EAAO1P,UAChBkP,EAAK7C,aAAe,EAAK,EAC1B,YAEE2D,EAAwB,GAAnBd,EAAK7C,YAChB,MAAO,CAAEQ,GAAI,aAAF,OAAeiD,GAAQ/C,GAAI,GAAF,OAAKgD,EAAL,sBAAwBC,MAGpE,GAAM,CAEF,EAAM,SAACd,GAEH,IAAMO,EAAQ,CACV,cACA,sFACA,0CACA,wCACA,wCACA,qCACA,8CACA,4CACA,uCACA,sCACA,gBACA,0BACA,iCACA,yCACA,mCACA,yCACA,wCACA,2CACA,8EACA,4HACA,6CACA,wCACA,wCACA,oFAEJ,MAAO,CAAE5C,GAAI4C,EAAMzP,UAAUkP,EAAK9C,YAAa,gBAMlD,EAAI,EAAG,GAAK,EAAG,IACpBO,EAAW,IAAM,GAAKA,EAAW,IAAM,GAG3CA,EAAW,IAAM,GAAQA,EAAW,IAAM,GAE1C,IAAK,IAAI,EAAI,EAAG,GAAK,EAAG,IACpBA,EAAW,IAAM,GAAKA,EAAW,IAAM,GAG3C,IAAK,IAAI,EAAI,EAAG,GAAK,EAAG,IACpBA,EAAW,IAAM,GAAKA,EAAW,IAAM,GAE3CA,EAAW,IAAM,GAAKA,EAAW,IAAM,GAEvC,IAOKtE,EAKArB,EASAmD,EAeA8F,EApCCvD,EAAO,CACTR,mBACA8B,2BACAM,oBACA3B,cAgIJ,SAASuD,EAAe1Q,GACpB,OAAO2Q,EAAQnJ,EAAexH,GAElC,SAASkK,EAAelK,GACpB,OAAO2Q,EAAQhG,EAAe3K,GAElC,SAASuI,EAAavI,GAClB,OAAO2Q,EAAQF,EAAqBzQ,GAGxC,SAASkM,EAAelM,GACpB,OAAU,IAANA,EACO,eAEPA,GAAK,KAAQA,GAAK,IACX,kBAEPA,GAAK,KAAQA,GAAK,IACX,sBAEJ,cAEX,SAASyM,EAAWzM,GAEhB,OADAA,GAAQ,IACE,IAANA,EACO,cAED,IAANA,EACO,YAEPA,GAAK,GAAOA,GAAK,GACV5C,OAAOwT,KAAK1D,EAAKsB,yBAAyBxO,IAAI,GAE/C,MAANA,EACO,kBAEPA,GAAK,KAAQA,GAAK,IACX,MAGJ,WAEX,SAASmI,EAAWnI,GAChB,OAAIA,EAAIkN,EAAK4B,kBAAkB3R,OACpBC,OAAOwT,KAAK1D,EAAK4B,kBAAkB9O,IAAI,GAE9CA,GAAK,KAAQA,GAAK,IACX,MAEJ,WAEX,SAAS2M,EAAMkD,EAAY7P,GAGvB,IAAIyC,EADJoN,GAAU,IAGNpN,EADO,IAAPoN,EACI,YACGA,GAAM,GAAOA,GAAM,IAEZ,MAAPA,EADH,WAIA,MAER,IAAMxB,EAAOrO,GAAK,EAAK,EACjBsO,EAAOtO,GAAK,EAAK,EAEvB,OACIkN,EAAKR,iBAAiBjK,GAAG4L,IAAIA,GAC7B,KACAnB,EAAKR,iBAAiBjK,GAAG6L,IAAIA,GAGrC,SAAS/E,EAAQvJ,EAAWqG,EAAgB6B,GAIxC,OAHAlI,GAAQ,IACRqG,GAAkB,GAER,IAANrG,EACO,cAEPA,GAAK,GAAOA,GAAK,GACV6Q,EAAgB7Q,EAAGqG,GAEpB,MAANrG,EACO8Q,EAAe5I,EAAa7B,GAGnCrG,GAAK,KAAQA,GAAK,IACX,MAGA,WAGf,SAAS6Q,EAAgB7Q,EAAWqG,GAChC,IAAM5F,EAAIyM,EAAKsB,yBAAyBxO,GAClC+Q,EAAS3T,OAAO2T,OAAOtQ,GAAG,GAChC,OAAI4F,GAAU0K,EAAO5T,OACV,cAEJ4T,EAAO1K,GAElB,SAASyK,EAAe9Q,EAAWqG,GAC/B,GAAU,IAANrG,EACA,MAAO,WAEX,GAAIA,GAAKkN,EAAK4B,kBAAkB3R,QAAU6C,GAAK,IAC3C,MAAO,WAEX,GAAIA,GAAK,KAAQA,GAAK,IAClB,MAAO,MAIX,IAAMS,EAAIyM,EAAK4B,kBAAkB9O,GAC3BjB,EAAO3B,OAAOwT,KAAKnQ,GAAG,GACtBsQ,EAAS3T,OAAO2T,OAAOtQ,GAAG,GAChC,OAAIT,GAAK,GAAKA,GAAK,EACRjB,EAGPsH,GAAU0K,EAAO5T,OACV,cAEJ4T,EAAO1K,IAzPlB,SAAKwC,GACD,gCACA,+CAFJ,CAAKA,MAAS,KAKd,SAAKrB,GACD,sBACA,4BACA,gCACA,+CACA,iFACA,sBANJ,CAAKA,MAAa,KASlB,SAAKmD,GACD,0BACA,kBACA,wBACA,sBACA,gBACA,wBACA,sBACA,kCACA,oBACA,sBACA,uBACA,uCAZJ,CAAKA,MAAa,KAelB,SAAK8F,GACD,oCACA,gCACA,gCACA,gCACA,wBACA,sBACA,wBACA,0BACA,8BACA,kBACA,uBACA,yBACA,qBACA,6BACA,qBACA,qBACA,2BACA,qBACA,qBACA,mBACA,qCACA,qCACA,2BACA,2BACA,uBACA,qBACA,uBACA,qBACA,2BACA,uBACA,yBACA,6BACA,mBACA,mBACA,iBACA,yBACA,uBACA,2BACA,qCACA,6BACA,mCACA,qCACA,2BACA,iCACA,yBACA,yBACA,yBACA,yBACA,yBACA,+BACA,yBACA,mCACA,yBACA,mCACA,uBACA,6BACA,uBACA,iCACA,qBACA,+BACA,+BACA,qBACA,qBACA,uBACA,6BACA,+CACA,qBACA,6BACA,6BACA,6BACA,uBACA,+BACA,+BACA,+BACA,uBACA,yBACA,yBACA,uBACA,qBACA,uBACA,yBACA,yBACA,mDACA,+BACA,iCACA,6BACA,+BACA,mCACA,yBACA,iDACA,qDACA,qCACA,yBA7FJ,CAAKA,MAAmB,K,oBCh9BxB,SAASE,EAAQK,EAAahR,GAE1B,IAAMJ,EAAKI,EAAEoB,SAAS,IACtB,IAAK,IAAM6P,KAAcD,EACrB,GAAIC,IAAerR,EACf,OAAOoR,EAAOC,GAGtB,OAAOjR,EAAE0B,SAGb,SAAS+G,EAAeO,GAA2B,IAAhBlI,EAAgB,uDAAD,EAC9C,OAAIkI,GAAMlI,EAAO,IAAO,EAEbkI,EAGAA,GAAK,GAAKlI,GA4BzB,SAAS+M,EAAgBJ,GAIrB,IAFA,IAAMyD,EAAM,IAAIC,YAAY1D,EAAItQ,QAC1BiU,EAAU,IAAIzF,WAAWuF,GACtBjU,EAAI,EAAGoU,EAAS5D,EAAItQ,OAAQF,EAAIoU,EAAQpU,IAC7CmU,EAAQnU,GAAKwQ,EAAI6D,WAAWrU,GAEhC,OAAOiU,EAGX,SAASnD,EAAgBH,GAGrB,OAAO,IAAI2D,YAAY,SAASC,OAAO,IAAI7F,WAAWiC,I,cCiB3C,SAAI6D,OAAO,CACtB1S,KAAM,MACN2S,MAAO,CAAC,OAER/U,KAAM,iBAAO,CACT8H,QAAS,CACL,CACIkN,KAAM,KACNC,MAAO,QACPC,UAAU,EACVrS,MAAO,MAEX,CAAEmS,KAAM,cAAenS,MAAO,MAC9B,CAAEmS,KAAM,YAAanS,MAAO,MAC5B,CAAEmS,KAAM,YAAanS,MAAO,MAC5B,CAAEmS,KAAM,cAAenS,MAAO,MAC9B,CAAEmS,KAAM,kBAAmBnS,MAAO,MAClC,CAAEmS,KAAM,YAAanS,MAAO,MAC5B,CAAEmS,KAAM,aAAcnS,MAAO,MAC7B,CAAEmS,KAAM,QAASnS,MAAO,KACxB,CAAEmS,KAAM,mBAAoBnS,MAAO,OACnC,CAAEmS,KAAM,eAAgBnS,MAAO,OAC/B,CAAEmS,KAAM,eAAgBnS,MAAO,QAEnCkF,KAAM,GACNF,MAAO,KAEXsN,QAAS,CACL1N,cADK,SACS4G,GAGNA,EAAE+G,eACF5Q,KAAKqD,MAAQxB,MAAMgP,KAAKhH,EAAE+G,aAAavN,SAG/CyN,oBARK,SASDC,EACA7K,EACA3C,GAAe,WAGTyN,EAAqB9K,EAAK+K,QAC5B,SAACnV,GAAD,OAAkBG,OAAOwT,KAAK3T,GAAGoV,QAAQ,eAAiB,KAG9DH,EAAKlI,SAAQ,SAAC0F,EAAiB4C,GAC3B,IAAMC,EAAOJ,EAAmBK,MAC5B,SAACvV,GAAD,OAAOA,EAAE8J,aAAe2I,EAAK3I,cAEjC,GAAIwL,EAAM,CACN,IAAMlT,EAAIqF,EAAK4N,GAEf,EAAKG,KAAKpT,EAAG,KAAMkT,EAAKvL,aAEA,cAApB0I,EAAK7I,YAA8B0L,EAAK9I,UACxCpK,EAAEgG,KAAOkN,EAAK9I,QAAQiG,EAAK9C,aAC3BvN,EAAEkG,KAAOgN,EAAK9I,QAAQiG,EAAK7C,oBAM/C6F,MAAO,CACHlO,MADG,WACE,WACKE,EAAOvD,KAAKuD,KAClB,MAAOA,EAAKvH,OAAS,EACjBuH,EAAKiO,MAET,IAAM5O,EAAM5C,KAAK4C,IACjBA,EAAI6O,YAASpR,EAEb,IAAMkE,EAAU,SACZO,EACA4M,EACAlW,GAGA,GAAIA,aAAgBwU,iBAEb,CAEH,IAAMe,EAAO,EAAUY,SAASnW,GAEhCuV,EAAKlI,SAAQ,SAAC/M,GACVyH,EAAKjH,KAAK,CACNwO,GAAIhP,EAAEgP,GACN1E,GAAItK,EAAEyJ,YACNqM,GAAI9V,EAAEmP,UACN4G,GAAI/V,EAAEqP,UACNQ,GAAI7P,EAAEiL,YACN/C,GAAIlI,EAAE8J,WAAWrF,SACjBuR,GAAIhW,EAAEuP,gBACNqD,GAAI5S,EAAE4J,WACNmE,EAAG/N,EAAEuM,MACL0J,IAAKjW,EAAEyP,iBACPpH,IAAKrI,EAAEmQ,mBACDnQ,EAAEmQ,mBACFnQ,EAAE2P,YAAYjL,YACpB6D,IAAKvI,EAAEqQ,mBACDrQ,EAAEqQ,mBACFrQ,EAAE4P,YAAYlL,iBAI5BoC,EAAI6O,OAAS,WACL7O,EAAIsD,MACJ,EAAK4K,oBAAoBC,EAAMnO,EAAIsD,KAAM3C,IAGjDX,EAAI6O,WAIZnN,EAAUtE,KAAKqD,MAAOkB,GAAS,OC5L8Y,I,mFCOrbyN,GAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,GAAAA,GAAiB,QAQhC,IAAkBA,GAAW,CAACC,aAAA,KAAWC,aAAA,KAAWC,cAAA,KAAWC,YAAA,OC1B/D,IAAI,GAAS,WAAa,IAAItQ,EAAI9B,KAAS+B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,KAAK,CAACH,EAAIM,GAAG,SAASH,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAOe,MAAM,CAAC7E,MAAOyD,EAAO,IAAEqB,SAAS,SAAUC,GAAMtB,EAAIsH,IAAIhG,GAAKT,WAAW,SAASV,EAAG,MAAM,CAACI,GAAG,CAAC,KAAO,SAASC,GAAgC,OAAxBA,EAAOU,iBAAwBlB,EAAImB,cAAcX,IAAS,SAAW,SAASA,GAAQA,EAAOU,oBAAqB,CAACf,EAAG,eAAe,CAACE,MAAM,CAAC,YAAY,GAAG,MAAQ,GAAG,MAAQ,eAAe,SAAW,GAAG,MAAQ,IAAIe,MAAM,CAAC7E,MAAOyD,EAAS,MAAEqB,SAAS,SAAUC,GAAMtB,EAAIuB,MAAMD,GAAKT,WAAW,YAAY,GAAGV,EAAG,eAAe,CAACY,YAAY,cAAcV,MAAM,CAAC,QAAUL,EAAIwB,QAAQ,MAAQxB,EAAIyB,KAAK,iBAAiB,IAAK,sBAAsB,GAAG,MAAQ,GAAG,GAAK,QAAQC,YAAY1B,EAAI2B,GAAG,CAAC,CAAC9E,IAAI,WAAW+E,GAAG,SAASC,GACr0B,IAAIC,EAAOD,EAAIC,KACf,MAAO,MAAevD,IAAbuD,EAAKwF,IAAmBnH,EAAG,eAAe,CAACiB,MAAM,CAAC7E,MAAOuF,EAAQ,IAAET,SAAS,SAAUC,GAAMtB,EAAIwP,KAAK1N,EAAM,MAAOR,IAAMT,WAAW,cAAcb,EAAImC,QAAQ,CAACtF,IAAI,UAAU+E,GAAG,SAASC,GACjM,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAAEA,EAAKyO,IAAmB,KAAbzO,EAAKwF,IAAYnH,EAAG,OAAO,CAACH,EAAIM,GAAGN,EAAIgB,GAAGc,EAAKyO,GAAGzO,EAAKwF,SAAStH,EAAImC,aAAa,IACjG,GAAkB,GC+DP,UAAIqM,OAAO,CACtB1S,KAAM,MACN2S,MAAO,CAAC,OAER/U,KAAM,iBAAO,CACT8H,QAAS,CACL,CACIkN,KAAM,KACNC,MAAO,QACPC,UAAU,EACVrS,MAAO,MAEX,CAAEmS,KAAM,cAAenS,MAAO,MAC9B,CAAEmS,KAAM,WAAYnS,MAAO,MAC3B,CAAEmS,KAAM,cAAenS,MAAO,MAC9B,CAAEmS,KAAM,cAAenS,MAAO,MAC9B,CAAEmS,KAAM,aAAcnS,MAAO,MAC7B,CAAEmS,KAAM,MAAOnS,MAAO,OACtB,CAAEmS,KAAM,SAAUnS,MAAO,MACzB,CAAEmS,KAAM,UAAWnS,MAAO,MAC1B,CAAEmS,KAAM,UAAWnS,MAAO,MAC1B,CAAEmS,KAAM,OAAQnS,MAAO,MACvB,CAAEmS,KAAM,oBAAqBnS,MAAO,OAExCkF,KAAM,GACNF,MAAO,GACPiP,oBAAqB,IACrBlJ,IAAK,QAETuH,QAAS,CACL1N,cADK,SACS4G,GAGNA,EAAE+G,eACF5Q,KAAKqD,MAAQxB,MAAMgP,KAAKhH,EAAE+G,aAAavN,SAG/CkP,iBARK,SAQYpM,GACb,IAAKA,EAAIwB,UACL,MAAO,GAEX,IAAMrJ,EAAI6H,EAAIwB,UACRiK,EAAK,CAACtT,EAAEwJ,IAAKxJ,EAAEyJ,GAAIzJ,EAAE0J,IAAK1J,EAAE6J,IAAK7J,EAAE4J,GAAI5J,EAAE2J,KACzCuK,EAAsC,GAI5C,OAHAZ,EAAG/I,SAAQ,SAAC/M,GACR0W,EAAGlW,KAAKR,GAAQ,CAAE+L,EAAG4K,IAAKrV,EAAG,SAE1BoV,GAEXE,eApBK,WAqBD1S,KAAK2S,WAAU,WAIY,qBAAZC,SAEHA,QAAQC,KAERD,QAAQC,IAAIC,MAAM,CAAC,UAAWF,QAAQC,IAAK,cAM/DtB,MAAO,CACHnI,IADG,WACA,WAECpJ,KAAKuD,KAAKsF,SAAQ,SAAC3K,QACDmC,IAAVnC,EAAEkL,MACFlL,EAAEkL,IAAM,EAAKA,SAIzB/F,MATG,WASE,WACKE,EAAOvD,KAAKuD,KAClB,MAAOA,EAAKvH,OAAS,EACjBuH,EAAKiO,MAET,IAAM5O,EAAM5C,KAAK4C,IACjBA,EAAIsD,UAAO7F,EAEX,IAAMkE,EAAU,SACZO,EACA4M,EACAlW,GAGA,GAAIA,aAAgBwU,YAAa,CAC7B,IAAM9J,EAAO,EAAU2K,KAAKrV,GAC5BoH,EAAIsD,KAAOA,EACPtD,EAAI6O,QAEJ7O,EAAI6O,SAGRvL,EAAK2C,SAAQ,SAAC/M,GACV,IAAMiX,EAAe,CACjBjI,GAAIhP,EAAEqJ,UACNiB,GAAImJ,EAAezT,EAAEyJ,aACrBvB,GAAI,GACJH,GAAI,GACJ8H,GAAI,GACJ+C,GAAI,GACJsE,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,KAIJtX,aAAa,GACbA,aAAa,GACbA,aAAa,KAEbiX,EAAI/O,GAAKlI,EAAE8J,WAAWrF,SACtBwS,EAAIlP,GAAK/H,EAAE+J,YACXkN,EAAIpH,GAAK7P,EAAEiL,YACXgM,EAAIrE,GAAKpD,EAAWxP,EAAE4J,aAGlB5J,aAAa,GACbA,aAAa,KAETA,EAAEuM,QACF0K,EAAIK,GAAKtX,EAAEuM,MAAM0E,KAAI,SAAC/P,GAAD,OAAOA,EAAEI,KAAGuN,KAAK,QAGtC7O,aAAa,IACbiX,EAAII,GAAKrX,EAAEqL,KACX4L,EAAI3J,IAAM,EAAKkJ,oBAAoBrS,SAC/B,IAEJ8S,EAAIC,GAAKlX,EAAEoL,OAAS,SAAW,WAC/B6L,EAAIE,GAAKnX,EAAE2M,2BACXsK,EAAIG,GAAKpX,EAAEwM,QAAQyK,EAAI3J,KACvB2J,EAAIV,GAAKvW,EAAEwM,QACPxM,EAAE6L,YACFoL,EAAIK,GAAK,EAAKb,iBAAiBzW,GAC1BiR,KAAI,SAAC/P,GAAD,OAAOA,EAAEI,KACbuN,KAAK,WAM1BpH,EAAKjH,KAAKyW,MAGd,EAAKL,mBAIbpO,EAAUtE,KAAKqD,MAAOkB,GAAS,OC7N8Y,M,aCOrb,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAQhC,IAAkB,GAAW,CAAC0N,aAAA,KAAWC,aAAA,KAAWC,cAAA,KAAWkB,cAAA,OC1B/D,IAAI,GAAS,WAAa,IAAIvR,EAAI9B,KAAS+B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,KAAK,CAACH,EAAIM,GAAG,SAASH,EAAG,MAAM,CAACH,EAAIM,GAAG,oCAAoCH,EAAG,KAAK,CAACA,EAAG,KAAK,CAACH,EAAIM,GAAG,4DAA4DH,EAAG,SAAS,CAACH,EAAIM,GAAG,iBAAiBH,EAAG,KAAK,CAACH,EAAIM,GAAG,oBAAoBH,EAAG,SAAS,CAACH,EAAIM,GAAG,aAAaN,EAAIM,GAAG,iCAAiCH,EAAG,OAAO,CAACH,EAAIM,GAAG,yCAAyCH,EAAG,KAAK,CAACY,YAAY,QAAQ,CAACf,EAAIM,GAAG,SAASH,EAAG,MAAM,CAACH,EAAIM,GAAG,mDAAmDH,EAAG,OAAO,CAACH,EAAIM,GAAG,iCAAiCH,EAAG,KAAK,CAACY,YAAY,QAAQ,CAACf,EAAIM,GAAG,iBAAiBH,EAAG,MAAM,CAACH,EAAIM,GAAG,2HAC/tB,GAAkB,GCkCP,UAAIkO,OAAO,CACtB1S,KAAM,OAENpC,KAAM,iBAAO,MCtCya,MCOtb,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAACyW,aAAA,OCcf,cAAI3B,OAAO,CACtB1S,KAAM,MAEN0V,WAAY,CACRC,OACAC,OACAC,SAGJjY,KAAM,iBAAO,CACTkY,SAAS,EACThR,KAAM,MACNE,IAAK,KAET+N,QAAS,CACLpO,YADK,SACOG,GACR1C,KAAK0C,KAAOA,IAGpBiR,QAnBsB,eCrC0Y,M,2FCOha,GAAY,eACd,GACA,EACA5Q,GACA,EACA,KACA,KACA,MAIa,MAAiB,QAWhC,IAAkB,GAAW,CAAC6Q,QAAA,KAAKC,WAAA,KAAQC,QAAA,KAAKC,WAAA,KAAQC,SAAA,KAAMC,WAAA,KAAQC,cAAAC,GAAA,O,iBC1BtE,OAAIC,IAAI,SAEO,WAAI,QAAQ,ICD3B,OAAIC,OAAOC,eAAgB,EAE3B,IAAMC,GAAQ,IAAI,OAAI,CAClBC,WACAC,OAAQ,SAAC/J,GAAD,OAAOA,EAAEgK,OAClBC,OAAO,QAUVzV,OAAOqV,MAAQA","file":"js/index.67a837ee.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/rawsel/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// https://stackoverflow.com/a/59499895\r\n// https://my.oschina.net/tearlight/blog/3059568\r\n\r\ninterface Number {\r\n    toFixed2(n: number): string\r\n    toHex(width?: number): string\r\n    toHexh(width?: number): string\r\n    toDecHexh(width?: number): string\r\n}\r\n\r\nNumber.prototype.toFixed2 = function(n: number) {\r\n    if (Math.floor(this as number) === (this as number)) {\r\n        // int\r\n        return this.toString()\r\n    }\r\n    // float\r\n    return this.toFixed(n)\r\n}\r\n\r\nNumber.prototype.toHex = function(width?: number) {\r\n    if (Math.floor(this as number) === (this as number)) {\r\n        // int\r\n        if (width === undefined) {\r\n            width = 2\r\n        }\r\n        return this.toString(16).padStart(width, \"0\")\r\n    }\r\n    // float\r\n    return this.toString()\r\n}\r\n\r\nNumber.prototype.toHexh = function(width?: number) {\r\n    return this.toHex(width) + \"h\"\r\n}\r\n\r\nNumber.prototype.toDecHexh = function(width?: number) {\r\n    return this.toString() + \" / \" + this.toHex(width) + \"h\"\r\n}\r\n\r\ninterface DateConstructor {\r\n    today: () => Date\r\n}\r\n\r\nDate.today = () => {\r\n    const date = new Date()\r\n    date.setHours(0, 0, 0, 0)\r\n    return date\r\n}\r\ninterface Date {\r\n    format(fmt: string): string\r\n}\r\n\r\nDate.prototype.format = function(fmt: string) {\r\n    // https://blog.csdn.net/vbangle/article/details/5643091\r\n    // https://stackoverflow.com/questions/36467469/is-key-value-pair-available-in-typescript/50167055#50167055\r\n    const o: { [key: string]: number } = {\r\n        \"M+\": this.getMonth() + 1, // 月份\r\n        \"d+\": this.getDate(), // 日\r\n        \"h+\": this.getHours() % 12 === 0 ? 12 : this.getHours() % 12, // 小时\r\n        \"H+\": this.getHours(), // 小时\r\n        \"m+\": this.getMinutes(), // 分\r\n        \"s+\": this.getSeconds(), // 秒\r\n        \"q+\": Math.floor((this.getMonth() + 3) / 3), // 季度\r\n        S: this.getMilliseconds() // 毫秒\r\n    }\r\n    if (/(y+)/.test(fmt)) {\r\n        fmt = fmt.replace(\r\n            RegExp.$1,\r\n            (this.getFullYear() + \"\").substr(4 - RegExp.$1.length)\r\n        )\r\n    }\r\n    for (const k in o) {\r\n        if (new RegExp(\"(\" + k + \")\").test(fmt)) {\r\n            fmt = fmt.replace(\r\n                RegExp.$1,\r\n                RegExp.$1.length === 1\r\n                    ? o[k].toString()\r\n                    : (\"00\" + o[k]).substr((\"\" + o[k]).length)\r\n            )\r\n        }\r\n    }\r\n    return fmt\r\n}\r\n\r\ninterface Array<T> {\r\n    indexOfOr(n: number, def: T): T\r\n}\r\nArray.prototype.indexOfOr = function<T>(n: number, def: T) {\r\n    return indexOfOr<T>(this, n, def)\r\n}\r\nfunction indexOfOr<T>(x: T[], n: number, def: T) {\r\n    if (n < 0 || n >= x.length) {\r\n        return def\r\n    }\r\n    return x[n]\r\n}\r\n\r\ninterface Array<T> {\r\n    bitsOr(n: number, def: T): T[]\r\n}\r\nArray.prototype.bitsOr = function<T>(n: number, def: T) {\r\n    return bitsOr<T>(this, n, def)\r\n}\r\nfunction bitsOr<T>(x: T[], n: number, def: T) {\r\n    const len = x.length\r\n    let bit_n = 0\r\n    const bits: T[] = []\r\n    while (n > 0) {\r\n        if (bit_n < len) {\r\n            if ((n & 1) === 1) {\r\n                bits.push(x[bit_n])\r\n            }\r\n        } else {\r\n            bits.push(def)\r\n        }\r\n        n = n >> 1\r\n        bit_n++\r\n    }\r\n    return bits\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"indigo\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"SEL Viewer\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.switch_page('sel')}}},[_vm._v(\"SEL\")]),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.switch_page('sdr')}}},[_vm._v(\"SDR\")]),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.switch_page('help')}}},[_vm._v(\"Help\")])],1),_c('v-main',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.page == 'sel'),expression:\"page == 'sel'\"}]},[_c('Sel',{attrs:{\"bag\":_vm.bag}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.page == 'sdr'),expression:\"page == 'sdr'\"}]},[_c('Sdr',{attrs:{\"bag\":_vm.bag}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.page == 'help'),expression:\"page == 'help'\"}]},[_c('Help')],1)]),_c('v-footer',{attrs:{\"color\":\"indigo\",\"app\":\"\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(\"© \"+_vm._s(new Date().getFullYear())+\" by bj\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('h2',[_vm._v(\"SEL\")]),_c('div',{on:{\"drop\":function($event){$event.preventDefault();return _vm.add_drop_file($event)},\"dragover\":function($event){$event.preventDefault();}}},[_c('v-file-input',{attrs:{\"show-size\":\"\",\"dense\":\"\",\"label\":\"raw SEL file\",\"multiple\":\"\",\"chips\":\"\"},model:{value:(_vm.files),callback:function ($$v) {_vm.files=$$v},expression:\"files\"}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.rows,\"items-per-page\":5000,\"hide-default-footer\":\"\",\"dense\":\"\"},scopedSlots:_vm._u([{key:\"item.sn\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.sm !== undefined)?_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('span',_vm._g(_vm._b({},'span',attrs,false),on),[_vm._v(_vm._s(item.sm))])]}}],null,true)},[_c('span',[_vm._v(_vm._s(item.sn))])]):_vm._e(),(item.sm === undefined)?_c('span',[_vm._v(_vm._s(item.sn))]):_vm._e()]}},{key:\"item.ed2\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.ed2p !== undefined)?_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('span',_vm._g(_vm._b({},'span',attrs,false),on),[_vm._v(_vm._s(item.ed2p))])]}}],null,true)},[_c('span',[_vm._v(_vm._s(item.ed2))])]):_vm._e(),(item.ed2p === undefined)?_c('span',[_vm._v(_vm._s(item.ed2))]):_vm._e()]}},{key:\"item.ed3\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.ed3p !== undefined)?_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('span',_vm._g(_vm._b({},'span',attrs,false),on),[_vm._v(_vm._s(item.ed3p))])]}}],null,true)},[_c('span',[_vm._v(_vm._s(item.ed3))])]):_vm._e(),(item.ed3p === undefined)?_c('span',[_vm._v(_vm._s(item.ed3))]):_vm._e()]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { SdrRecord } from \"@/ipmi\"\r\n\r\nexport interface Bag {\r\n    sdrs?: SdrRecord[]\r\n    update?: () => void\r\n}\r\n\r\ntype IOn_data = (\r\n    index: number,\r\n    name: string,\r\n    data: string | ArrayBuffer\r\n) => void\r\n\r\nexport function read_file(\r\n    files: File | File[] | FileList,\r\n    on_data: IOn_data,\r\n    as_text: boolean = true\r\n) {\r\n    // console.log(files)\r\n    if (!files) {\r\n        return\r\n    }\r\n    if (files instanceof File) {\r\n        files = [files]\r\n    }\r\n    // console.log(files.length)\r\n    // console.log(files)\r\n    for (let i = 0; i < files.length; i++) {\r\n        // read_file(i, files[i], on_data, as_text);\r\n        const file = files[i]\r\n        const reader = new FileReader()\r\n        reader.onload = (_) => {\r\n            // https://github.com/Microsoft/TypeScript/issues/4163\r\n            // or http://definitelytyped.org/guides/best-practices.html => Extending built-in types\r\n            if (!reader.result) {\r\n                return\r\n            }\r\n            on_data(i, file.name, reader.result)\r\n        }\r\n        if (as_text) {\r\n            reader.readAsText(file)\r\n        } else {\r\n            reader.readAsArrayBuffer(file)\r\n        }\r\n    }\r\n}\r\n","// import './index'\r\nimport { EventType } from \"./index\"\r\nimport { SdrRecordType } from \"./index\"\r\nimport { Linearization } from \"./index\"\r\nimport { two_complement } from \"./index\"\r\nimport { name_of_unit, name_of_linear, name_of_st, p_event } from \"./index\"\r\n\r\nexport class SdrRecord {\r\n    public static from(bin: ArrayBuffer | SharedArrayBuffer) {\r\n        const dv = new DataView(bin)\r\n        const buf_len = dv.byteLength\r\n        let offset = 0\r\n        const sdrs = [] as SdrRecord[]\r\n        while (offset < buf_len) {\r\n            if (dv.getUint8(offset + 2) !== 0x51) {\r\n                // sdr_version invalid\r\n                break\r\n            }\r\n            let sdr: SdrRecord\r\n            const rt = dv.getUint8(offset + 3)\r\n            if (rt === SdrRecordType.Full) {\r\n                sdr = new SdrRecordType1(dv, offset)\r\n            } else if (rt === SdrRecordType.Compact) {\r\n                sdr = new SdrRecordType2(dv, offset)\r\n            } else if (rt === SdrRecordType.EventOnly) {\r\n                sdr = new SdrRecordType3(dv, offset)\r\n            } else if (rt === SdrRecordType.FruDeviceLocator) {\r\n                sdr = new SdrRecordType11(dv, offset)\r\n            } else if (rt === SdrRecordType.ManagementControllerDeviceLocator) {\r\n                sdr = new SdrRecordType12(dv, offset)\r\n            } else if (rt === SdrRecordType.OEM) {\r\n                sdr = new SdrRecordTypeC0(dv, offset)\r\n            } else {\r\n                sdr = new SdrRecord(dv, offset)\r\n            }\r\n            sdrs.push(sdr)\r\n            offset = sdr.next_record\r\n        }\r\n        return sdrs\r\n    }\r\n    public static get_id_string(dv: DataView, offset: number) {\r\n        const len = dv.getUint8(offset) & 0x1f\r\n        const ns: number[] = []\r\n        for (let i = offset + 1; i < offset + 1 + len; i++) {\r\n            ns.push(dv.getUint8(i))\r\n        }\r\n        return String.fromCharCode.apply(null, ns)\r\n    }\r\n    public dv: DataView\r\n    public offset: number\r\n    public record_id: number\r\n    public sdr_version: number\r\n    public record_type: SdrRecordType\r\n    public record_length: number\r\n    public next_record: number\r\n\r\n    constructor(dv: DataView, offset: number = 0) {\r\n        this.dv = dv\r\n        this.offset = offset\r\n        // this.record_id = buf[offset] + buf[offset + 1] * 0x100\r\n        this.record_id = dv.getUint16(offset, true)\r\n        this.sdr_version = dv.getUint8(offset + 2)\r\n        this.record_type = dv.getUint8(offset + 3)\r\n        this.record_length = dv.getUint8(offset + 4)\r\n        this.next_record = offset + 5 + this.record_length\r\n    }\r\n    public toString() {\r\n        let s = `id: ${\r\n            this.record_id\r\n        }, offset: ${this.offset.toHexh()}, length: ${this.record_length.toHexh()}, rt: ${this.record_type.toHexh()}`\r\n        if (this instanceof SdrRecordType1 || this instanceof SdrRecordType2) {\r\n            s += `, et: ${this.event_type.toHexh()}, st: ${this.sensor_type_n.toHexh()}, num: ${this.sensor_num.toHexh()}, name(${\r\n                this.sensor_name.length\r\n            }): ${this.sensor_name}`\r\n        }\r\n        return s\r\n    }\r\n}\r\ninterface Thresholds {\r\n    unr?: { v: number; s: string }\r\n    uc?: { v: number; s: string }\r\n    unc?: { v: number; s: string }\r\n    lnr?: { v: number; s: string }\r\n    lc?: { v: number; s: string }\r\n    lnc?: { v: number; s: string }\r\n}\r\n\r\nexport class SdrRecordType1 extends SdrRecord {\r\n    public sensor_num: number\r\n    public sensor_name: string\r\n    public sensor_type_n: number\r\n    public sensor_type: string\r\n    public event_type: EventType\r\n    public unit1: number\r\n    public signed: boolean\r\n    public unit: string\r\n    public linear: Linearization\r\n    public m: number\r\n    public b: number\r\n    public rexp: number\r\n    public bexp: number\r\n    public reading: (x: number | string) => string\r\n    public reading_formula: string\r\n    public threshold?: Thresholds\r\n    public event?: Array<{ v: number; s: string }>\r\n\r\n    constructor(dv: DataView, offset: number = 0) {\r\n        super(dv, offset)\r\n        this.record_type = SdrRecordType.Full\r\n        this.sensor_num = dv.getUint8(offset + 7)\r\n        this.sensor_type_n = dv.getUint8(offset + 12)\r\n        this.sensor_type = name_of_st(dv.getUint8(offset + 12))\r\n        this.event_type = dv.getUint8(offset + 13)\r\n        this.unit1 = (dv.getUint8(offset + 20) >> 6) & 3\r\n        this.signed = this.unit1 === 1 || this.unit1 === 2\r\n        this.unit = name_of_unit(dv.getUint8(offset + 21))\r\n        this.linear = dv.getUint8(offset + 23)\r\n        this.m = two_complement(\r\n            dv.getUint8(offset + 24) +\r\n                (((dv.getUint8(offset + 25) >> 6) & 3) << 8)\r\n        )\r\n        this.b = two_complement(\r\n            (dv.getUint8(offset + 26) +\r\n                ((dv.getUint8(offset + 27) >> 6) & 3)) <<\r\n                8\r\n        )\r\n        this.rexp = two_complement((dv.getUint8(offset + 29) >> 4) & 0xf, 4)\r\n        this.bexp = two_complement(dv.getUint8(offset + 29) & 0xf, 4)\r\n        if (this.event_type === EventType.threshold) {\r\n            this.threshold = {}\r\n            const threshold_mask = dv.getUint16(offset + 18, true)\r\n            if (((threshold_mask >> 13) & 1) === 1) {\r\n                const v = dv.getUint8(offset + 36)\r\n                this.threshold.unr = { v, s: \"\" }\r\n            }\r\n            if (((threshold_mask >> 12) & 1) === 1) {\r\n                const v = dv.getUint8(offset + 37)\r\n                this.threshold.uc = { v, s: \"\" }\r\n            }\r\n            if (((threshold_mask >> 11) & 1) === 1) {\r\n                const v = dv.getUint8(offset + 38)\r\n                this.threshold.unc = { v, s: \"\" }\r\n            }\r\n            if (((threshold_mask >> 10) & 1) === 1) {\r\n                const v = dv.getUint8(offset + 39)\r\n                this.threshold.lnr = { v, s: \"\" }\r\n            }\r\n            if (((threshold_mask >> 9) & 1) === 1) {\r\n                const v = dv.getUint8(offset + 40)\r\n                this.threshold.lc = { v, s: \"\" }\r\n            }\r\n            if (((threshold_mask >> 8) & 1) === 1) {\r\n                const v = dv.getUint8(offset + 41)\r\n                this.threshold.lnc = { v, s: \"\" }\r\n            }\r\n        } else {\r\n            const v: Array<{ v: number; s: string }> = []\r\n            const x = dv.getUint16(offset + 14, true)\r\n            for (let i = 0; i < 16; i++) {\r\n                if (((x >> i) & 1) === 1) {\r\n                    v.push({\r\n                        v: i,\r\n                        s: p_event(this.event_type, i, this.sensor_type_n)\r\n                    })\r\n                }\r\n            }\r\n            this.event = v\r\n        }\r\n        this.reading = this.get_reading_formula()\r\n        this.reading_formula = this.get_reading_formula_text()\r\n        this.update_threshold()\r\n\r\n        this.sensor_name = SdrRecord.get_id_string(dv, offset + 47) // offset of 'id string type/length code'\r\n    }\r\n    public update_formula() {\r\n        // change m/b/bexp/rexp after init, then call this method to update reading formula\r\n        this.reading = this.get_reading_formula()\r\n        this.reading_formula = this.get_reading_formula_text()\r\n        this.update_threshold()\r\n    }\r\n    public update_threshold() {\r\n        const t = this.threshold\r\n        if (t === undefined) {\r\n            return\r\n        }\r\n        const thresholds = [t.unr, t.uc, t.unc, t.lnr, t.lc, t.lnc]\r\n        thresholds.forEach((i) => {\r\n            if (i !== undefined) {\r\n                i.s = this.reading(i.v)\r\n            }\r\n        })\r\n    }\r\n    public get_reading_formula_text_full() {\r\n        const sdr = this\r\n        // const f = SdrRecord.linear_of(sdr.linear)\r\n        // return `${f}[(${sdr.m} * x + (${sdr.b} * 10 ^ (${sdr.bexp}))) * 10 ^ (${sdr.rexp})]`\r\n        return `(${sdr.m}x + (${sdr.b} \\\\\\\\times 10 ^ {${sdr.bexp}})) \\\\\\\\times 10 ^ {${sdr.rexp}}`\r\n    }\r\n    public get_reading_formula_text() {\r\n        const sdr = this\r\n        const f = name_of_linear(sdr.linear)\r\n        // return `${f}[(${sdr.m} * x + (${sdr.b} * 10 ^ (${sdr.bexp}))) * 10 ^ (${sdr.rexp})]`\r\n        // return `$$${f}[(${sdr.m} x + (${sdr.b}  \\\\times 10 ^ {${sdr.bexp}})) \\\\times 10 ^ {${sdr.rexp}}]$$`\r\n        // const f1 = `$$${f}[(${sdr.m} x + (${sdr.b} \\\\times 10 ^ {${sdr.bexp}})) \\\\times 10 ^ {${sdr.rexp}}]$$`\r\n\r\n        let m: string = \"\"\r\n        // m=1\r\n        if (sdr.m === 1) {\r\n            m = `x`\r\n        } else {\r\n            m = `${sdr.m}x`\r\n        }\r\n\r\n        let b_bexp: string = \"\"\r\n        // b=0,1\r\n        // bexp=0,1\r\n        if (sdr.b === 0) {\r\n            b_bexp = \"\"\r\n        } else {\r\n            if (sdr.bexp === 0) {\r\n                // b x 1\r\n                if (sdr.b < 0) {\r\n                    b_bexp = `(${sdr.b})`\r\n                } else {\r\n                    b_bexp = `${sdr.b}`\r\n                }\r\n            } else if (sdr.bexp === 1) {\r\n                // b x 10\r\n                if (sdr.b === 1) {\r\n                    b_bexp = `10`\r\n                } else {\r\n                    if (sdr.b < 0) {\r\n                        b_bexp = `((${sdr.b}) \\\\times 10)`\r\n                    } else {\r\n                        // b can't be float\r\n                        // it's safe to transfer: b x 10 => b0\r\n                        // but I don't do it this time\r\n                        b_bexp = `(${sdr.b} \\\\times 10)`\r\n                    }\r\n                }\r\n            } else {\r\n                if (sdr.b === 1) {\r\n                    // 1 x 10 x ?\r\n                    b_bexp = `10 ^ {${sdr.bexp}}`\r\n                } else {\r\n                    if (sdr.b < 0) {\r\n                        b_bexp = `((${sdr.b}) \\\\times 10 ^ {${sdr.bexp}})`\r\n                    } else {\r\n                        b_bexp = `(${sdr.b} \\\\times 10 ^ {${sdr.bexp}})`\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        let m_b_bexp: string\r\n        if (sdr.b === 0) {\r\n            m_b_bexp = m\r\n        } else {\r\n            m_b_bexp = `${m} + ${b_bexp}`\r\n        }\r\n\r\n        let rexp = \"\"\r\n        // rexp=0,1\r\n        if (sdr.rexp === 0) {\r\n            rexp = \"\"\r\n        } else if (sdr.rexp === 1) {\r\n            rexp = `10`\r\n        } else {\r\n            rexp = `10 ^ {${sdr.rexp}}`\r\n        }\r\n\r\n        let m_b_bexp_r_rexp = \"\"\r\n        if (sdr.rexp === 0) {\r\n            m_b_bexp_r_rexp = m_b_bexp\r\n        } else {\r\n            if (sdr.b === 0 && sdr.m === 1) {\r\n                m_b_bexp_r_rexp = `${m_b_bexp} \\\\times ${rexp}`\r\n            } else {\r\n                m_b_bexp_r_rexp = `(${m_b_bexp}) \\\\times ${rexp}`\r\n            }\r\n        }\r\n\r\n        let f2: string\r\n        if (f === \"linear\") {\r\n            f2 = `$$${m_b_bexp_r_rexp}$$`\r\n        } else {\r\n            f2 = `$$${f}[${m_b_bexp_r_rexp}]$$`\r\n        }\r\n        // return `${f1} \\\\(\\\\Rightarrow\\\\) ${f2}`\r\n        // return `${f1} $$=$$ ${f2}`\r\n        return f2\r\n    }\r\n    public get_reading_formula() {\r\n        const sdr = this\r\n        return (raw: number | string) => {\r\n            let x: number\r\n            if (typeof raw === \"string\") {\r\n                x = parseInt(raw, undefined)\r\n            } else {\r\n                x = raw\r\n            }\r\n            if (sdr.unit1 === 2) {\r\n                x = two_complement(x)\r\n            }\r\n            // y=L((m*x+(b*power(10,bexp))*power(10,r))\r\n            let y: number = x\r\n            x =\r\n                (sdr.m * x + sdr.b * Math.pow(10, sdr.bexp)) *\r\n                Math.pow(10, sdr.rexp)\r\n            // linear, ln, log10, log2, e, exp10, exp2, reciprocal, sqr, cube, sqrt, cubeByNegOne\r\n            if (sdr.linear === Linearization.linear) {\r\n                y = x\r\n            } else if (sdr.linear === Linearization.ln) {\r\n                y = Math.log(x)\r\n            } else if (sdr.linear === Linearization.log10) {\r\n                y = Math.log10(x)\r\n            } else if (sdr.linear === Linearization.log2) {\r\n                y = Math.log2(x)\r\n            } else if (sdr.linear === Linearization.e) {\r\n                y = Math.exp(x)\r\n            } else if (sdr.linear === Linearization.exp10) {\r\n                y = Math.pow(10, x)\r\n            } else if (sdr.linear === Linearization.exp2) {\r\n                y = Math.pow(2, x)\r\n            } else if (sdr.linear === Linearization.reciprocal) {\r\n                y = Math.pow(x, -1)\r\n            } else if (sdr.linear === Linearization.sqr) {\r\n                // sqrt = square root.\r\n                // sqr = square.\r\n                // sqrt(9) = 3, while sqr(9) = 81.\r\n                y = Math.pow(x, 2)\r\n            } else if (sdr.linear === Linearization.cube) {\r\n                y = Math.pow(x, 3)\r\n            } else if (sdr.linear === Linearization.sqrt) {\r\n                y = Math.sqrt(x)\r\n            } else if (sdr.linear === Linearization.cubeByNegOne) {\r\n                y = Math.pow(Math.pow(x, 3), -1)\r\n            } else {\r\n                y = x\r\n            }\r\n            return y.toFixed2(2)\r\n        }\r\n    }\r\n}\r\n\r\nexport class SdrRecordType2 extends SdrRecord {\r\n    public sensor_num: number\r\n    public sensor_name: string\r\n    public sensor_type_n: number\r\n    public sensor_type: string\r\n    public event_type: EventType\r\n    public unit: string\r\n    public event?: Array<{ v: number; s: string }>\r\n    constructor(dv: DataView, offset: number = 0) {\r\n        super(dv, offset)\r\n        this.record_type = SdrRecordType.Compact\r\n        this.sensor_num = dv.getUint8(offset + 7)\r\n        this.sensor_type_n = dv.getUint8(offset + 12)\r\n        this.sensor_type = name_of_st(dv.getUint8(offset + 12))\r\n        this.event_type = dv.getUint8(offset + 13)\r\n        if (this.event_type !== EventType.threshold) {\r\n            const v: Array<{ v: number; s: string }> = []\r\n            const x = dv.getUint16(offset + 14, true)\r\n            for (let i = 0; i < 16; i++) {\r\n                if (((x >> i) & 1) === 1) {\r\n                    v.push({\r\n                        v: i,\r\n                        s: p_event(this.event_type, i, this.sensor_type_n)\r\n                    })\r\n                }\r\n            }\r\n            this.event = v\r\n        } else {\r\n            throw new Error(\r\n                \"event_type of SdrRecordType2 should not be threshold\"\r\n            )\r\n        }\r\n\r\n        this.unit = name_of_unit(dv.getUint8(offset + 21))\r\n        this.sensor_name = SdrRecord.get_id_string(dv, offset + 31) // offset of 'id string type/length code'\r\n    }\r\n}\r\n\r\nexport class SdrRecordType3 extends SdrRecord {\r\n    public sensor_num: number\r\n    public sensor_name: string\r\n    public sensor_type: string\r\n    public event_type: EventType\r\n    constructor(dv: DataView, offset: number = 0) {\r\n        super(dv, offset)\r\n        this.record_type = SdrRecordType.EventOnly\r\n        this.sensor_num = dv.getUint8(offset + 7)\r\n        this.sensor_type = name_of_st(dv.getUint8(offset + 10))\r\n        this.event_type = dv.getUint8(offset + 11)\r\n        this.sensor_name = SdrRecord.get_id_string(dv, offset + 16) // offset of 'id string type/length code'\r\n    }\r\n}\r\nexport class SdrRecordType11 extends SdrRecord {\r\n    public sensor_name: string\r\n    constructor(dv: DataView, offset: number = 0) {\r\n        super(dv, offset)\r\n        this.record_type = SdrRecordType.FruDeviceLocator\r\n        this.sensor_name = SdrRecord.get_id_string(dv, offset + 15) // offset of 'id string type/length code'\r\n    }\r\n}\r\nexport class SdrRecordType12 extends SdrRecord {\r\n    public sensor_name: string\r\n    constructor(dv: DataView, offset: number = 0) {\r\n        super(dv, offset)\r\n        this.record_type = SdrRecordType.ManagementControllerDeviceLocator\r\n        this.sensor_name = SdrRecord.get_id_string(dv, offset + 15) // offset of 'id string type/length code'\r\n    }\r\n}\r\nexport class SdrRecordTypeC0 extends SdrRecord {\r\n    public sensor_name: string\r\n    constructor(dv: DataView, offset: number = 0) {\r\n        super(dv, offset)\r\n        this.record_type = SdrRecordType.OEM\r\n        // const a = new Uint8Array(dv.buffer, offset + 5, 3)\r\n        const a = new Uint8Array(\r\n            dv.buffer,\r\n            offset + 5,\r\n            this.next_record - offset - 5\r\n        )\r\n        const h: string[] = []\r\n        a.forEach((i) => h.push(i.toHex()))\r\n        // this.sensor_name = h.join(' ')\r\n        this.sensor_name = `${h.slice(0, 3).join(\" \")} / ${h\r\n            .slice(3)\r\n            .join(\" \")}`\r\n    }\r\n}\r\n","//       |Record|           |GenID|GenID |      |Sensor|        |EvtDir|Event|Event|Event|\r\n//   ID  | Type | TimeStamp |(Low)|(High)|EvMRev| Type |Sensor #| Type |Data1|Data2|Data3|\r\n//  0e37h|   02h| 5ecd80fbh |  20h|   00h|   04h|   07h|     92h|   83h|  01h|  ffh|  ffh|\r\n//      0|     1|          2|    3|     4|     5|     6|       7|     8|    9|   10|   11|\r\nimport { ipmi } from \"./index\"\r\nimport { SdrRecordType1 } from \"./index\"\r\nimport { name_of_sel_rt, name_of_st, name_of_et, p_edf, p_event } from \"./index\"\r\nimport { str2ArrayBuffer, ArrayBuffer2str } from \"./index\"\r\n\r\nexport class SelRecord {\r\n    public static timezone = 0 - new Date().getTimezoneOffset() / 60\r\n    public static from_str(str: string) {\r\n        //  0e37h|   02h| 5ecd80fbh |  20h|   00h|   04h|   07h|     92h|   83h|  01h|  ffh|  ffh|\r\n        if (\r\n            str.match(\r\n                /[0-9a-f]{4}h\\| +[0-9a-f]{2}h\\| +[0-9a-f]{8}h \\|( +[0-9a-f]{2}h\\|){8}/\r\n            )\r\n        ) {\r\n            return SelRecord.from_raw(str)\r\n        } else {\r\n            const ab = str2ArrayBuffer(str)\r\n            const dv = new DataView(ab)\r\n            if (dv.getUint8(9) === 4) {\r\n                // this check is not safe\r\n                return SelRecord.from_bin(ab)\r\n            } else {\r\n                return [] as SelRecord[]\r\n            }\r\n        }\r\n    }\r\n    public static from_ArrayBuffer(ab: ArrayBuffer) {\r\n        const dv = new DataView(ab)\r\n        if (dv.getUint8(9) === 4) {\r\n            // this check is not safe\r\n            return SelRecord.from_bin(ab)\r\n        } else {\r\n            return SelRecord.from_raw(ArrayBuffer2str(ab))\r\n        }\r\n    }\r\n    public static from_bin(bin: ArrayBuffer) {\r\n        const dv = new DataView(bin)\r\n        const len = dv.byteLength\r\n        let offset = 0\r\n        const x = [] as SelRecord[]\r\n        while (offset < len) {\r\n            //  0e37h|   02h| 5ecd80fbh |  20h|   00h|   04h|   07h|     92h|   83h|  01h|  ffh|  ffh|\r\n            const a: number[] = []\r\n            a[0] = dv.getUint16(offset, true)\r\n            a[1] = dv.getUint8(offset + 2)\r\n            a[2] = dv.getUint32(offset + 3, true)\r\n            for (let i = 3; i < 12; i++) {\r\n                a[i] = dv.getUint8(offset + 7 + i - 3)\r\n            }\r\n            x.push(new SelRecord(a))\r\n            offset += 16\r\n        }\r\n        return x\r\n    }\r\n    public static from_raw(raw: string) {\r\n        const x = [] as SelRecord[]\r\n        //  0e37h|   02h| 5ecd80fbh |  20h|   00h|   04h|   07h|     92h|   83h|  01h|  ffh|  ffh|\r\n        raw.split(\"\\n\").forEach((i) => {\r\n            if (\r\n                i.match(\r\n                    /^ *[0-9a-f]{4}h\\| +[0-9a-f]{2}h\\| +[0-9a-f]{8}h \\|( +[0-9a-f]{2}h\\|){8}/\r\n                )\r\n            ) {\r\n                const a = i.split(\"|\").map((j) => parseInt(j.trim(), 16))\r\n                x.push(new SelRecord(a))\r\n            }\r\n        })\r\n        return x\r\n    }\r\n    public static timestamp_with_timezone(t: number, tz: number) {\r\n        if (t === 0xffffffff) {\r\n            return t.toHexh()\r\n        } // invalid\r\n        if (t <= 0x20000000) {\r\n            return t + \"s\"\r\n        } // initialization\r\n        return new Date((t + tz * 3600) * 1000).format(\"yyyy/MM/dd-hh:mm:ss\")\r\n    }\r\n\r\n    public id: number\r\n    public record_type: string\r\n    public time_seconds: number\r\n    public timestamp: string\r\n    public generator: string\r\n    public event_receiver: string\r\n    public sensor_type: string\r\n    public sensor_num: number\r\n    public event_direction: string\r\n    public event_type: string\r\n    public event_data_field: string\r\n    public event: string\r\n    public event_data2: number\r\n    public event_data3: number\r\n    public event_data2_parsed?: string\r\n    public event_data3_parsed?: string\r\n    public sdr?: SdrRecordType1\r\n    public timezone = SelRecord.timezone\r\n\r\n    constructor(a: number[]) {\r\n        //  0e37h|   02h| 5ecd80fbh |  20h|   00h|   04h|   07h|     92h|   83h|  01h|  ffh|  ffh|\r\n        this.id = a[0]\r\n        this.record_type = name_of_sel_rt(a[1])\r\n        this.time_seconds = a[2]\r\n        this.timestamp = SelRecord.timestamp_with_timezone(\r\n            this.time_seconds,\r\n            this.timezone\r\n        )\r\n        this.generator = (a[3] + a[4] * 0x100).toHexh(4)\r\n        this.event_receiver = a[5].toHexh()\r\n        this.sensor_type = name_of_st(a[6])\r\n        this.sensor_num = a[7]\r\n        this.event_direction = ((a[8] >> 7) & 1) === 0 ? \"Assert\" : \"Deassert\"\r\n        this.event_type = name_of_et(a[8])\r\n        this.event_data_field = p_edf(a[8], a[9])\r\n        this.event = p_event(a[8], a[9], a[6])\r\n        this.event_data2 = a[10]\r\n        this.event_data3 = a[11]\r\n        const st = a[6]\r\n        const et_offset = a[9] & 0xf\r\n        const need_parse = this.event_data_field.includes(\r\n            \"sensor-specific event extension code\"\r\n        )\r\n        if (\r\n            need_parse &&\r\n            st in ipmi.event_data &&\r\n            et_offset in ipmi.event_data[st]\r\n        ) {\r\n            const x = ipmi.event_data[st][et_offset](this)\r\n            this.event_data2_parsed = x.d2\r\n            this.event_data3_parsed = x.d3\r\n        }\r\n        // console.log(this.event_data2_parsed)\r\n    }\r\n    public change_timezone(tz: number) {\r\n        this.timezone = tz\r\n        this.timestamp = SelRecord.timestamp_with_timezone(\r\n            this.time_seconds,\r\n            this.timezone\r\n        )\r\n    }\r\n}\r\n","import { name_of } from \"./index\"\r\n\r\nconst event_data_field: { [key: string]: { [key: string]: string[] } } = {\r\n    // table 29-6 event data field\r\n    threshold: {\r\n        b76: [\r\n            \"unspecified byte 2\",\r\n            \"trigger reading in byte 2\",\r\n            \"OEM code in byte 2\",\r\n            \"sensor-specific event extension code in byte 2\"\r\n        ],\r\n        b54: [\r\n            \"unspecified byte 3\",\r\n            \"trigger threshold value in byte 3\",\r\n            \"OEM code in byte 3\",\r\n            \"sensor-specific event extension code in byte 3\"\r\n        ]\r\n    },\r\n    discrete: {\r\n        b76: [\r\n            \"unspecified byte 2\",\r\n            \"previous state and/or severity in byte 2\",\r\n            \"OEM code in byte 2\",\r\n            \"sensor-specific event extension code in byte 2\"\r\n        ],\r\n        b54: [\r\n            \"unspecified byte 3\",\r\n            \"reserved\",\r\n            \"OEM code in byte 3\",\r\n            \"sensor-specific event extension code in byte 3\"\r\n        ]\r\n    },\r\n    OEM: {\r\n        b76: [\r\n            \"unspecified byte 2\",\r\n            \"previous state and/or severity in byte 2\",\r\n            \"OEM code in byte 2\",\r\n            \"reserved\"\r\n        ],\r\n        b54: [\r\n            \"unspecified byte 3\",\r\n            \"reserved\",\r\n            \"OEM code in byte 3\",\r\n            \"reserved\"\r\n        ]\r\n    }\r\n}\r\n\r\nconst generic_event_type_codes: Array<{ [key: string]: string[] }> = [\r\n    {\r\n        unspecified: []\r\n    },\r\n    {\r\n        // 1\r\n        Threshold: [\r\n            \"Lower Non-critical - going low\",\r\n            \"Lower Non-critical - going high\",\r\n            \"Lower Critical - going low\",\r\n            \"Lower Critical - going high\",\r\n            \"Lower Non-recoverable - going low\",\r\n            \"Lower Non-recoverable - going high\",\r\n            \"Upper Non-critical - going low\",\r\n            \"Upper Non-critical - going high\",\r\n            \"Upper Critical - going low\",\r\n            \"Upper Critical - going high\",\r\n            \"Upper Non-recoverable - going low\",\r\n            \"Upper Non-recoverable - going high\"\r\n        ]\r\n    },\r\n    {\r\n        // 2\r\n        \"DMI-based Usage State\": [\r\n            \"Transition to Idle\",\r\n            \"Transition to Active\",\r\n            \"Transition to Busy\"\r\n        ]\r\n    },\r\n    {\r\n        // 3\r\n        \"digital Discrete\": [\"State Deasserted\", \"State Asserted\"]\r\n    },\r\n    {\r\n        // 4\r\n        \"digital Discrete\": [\r\n            \"Predictive Failure deasserted\",\r\n            \"Predictive Failure asserted\"\r\n        ]\r\n    },\r\n    {\r\n        // 5\r\n        \"digital Discrete\": [\"Limit Not Exceeded\", \"Limit Exceeded\"]\r\n    },\r\n    {\r\n        // 6\r\n        \"digital Discrete\": [\"Performance Met\", \"Performance Lags\"]\r\n    },\r\n    {\r\n        // 7\r\n        severity: [\r\n            \"transition to OK\",\r\n            \"transition to Non-Critical from OK\",\r\n            \"transition to Critical from less severe\",\r\n            \"transition to Non-recoverable from less severe\",\r\n            \"transition to Non-Critical from more severe\",\r\n            \"transition to Critical from Non-recoverable\",\r\n            \"transition to Non-recoverable\",\r\n            \"Monitor\",\r\n            \"Informational\"\r\n        ]\r\n    },\r\n    {\r\n        // 8\r\n        availability: [\r\n            \"Device Removed / Device Absent\",\r\n            \"Device Inserted / Device Present\"\r\n        ]\r\n    },\r\n    {\r\n        // 9\r\n        availability: [\"Device Disabled\", \"Device Enabled\"]\r\n    },\r\n    {\r\n        // 10\r\n        availability: [\r\n            \"transition to Running\",\r\n            \"transition to In Test\",\r\n            \"transition to Power Off\",\r\n            \"transition to On Line\",\r\n            \"transition to Off Line\",\r\n            \"transition to Off Duty\",\r\n            \"transition to Degraded\",\r\n            \"transition to Power Save\",\r\n            \"Install Error\"\r\n        ]\r\n    },\r\n    {\r\n        // 11\r\n        redundancy: [\r\n            \"Fully Redundant\",\r\n            \"Redundancy Lost\",\r\n            \"Redundancy Degraded\",\r\n            \"Non-redundant:Sufficient Resources from Redundant\",\r\n            \"Non-redundant:Sufficient Resources from Insufficient Resources\",\r\n            \"Non-redundant:Insufficient Resources\",\r\n            \"Redundancy Degraded from Fully Redundant\",\r\n            \"Redundancy Degraded from Non-redundant\"\r\n        ]\r\n    },\r\n    {\r\n        // 12\r\n        \"ACPI Device Power\": [\r\n            \"D0 Power State\",\r\n            \"D1 Power State\",\r\n            \"D2 Power State\",\r\n            \"D3 Power State\"\r\n        ]\r\n    }\r\n]\r\n\r\nconst sensor_type_codes: Array<{ [key: string]: string[] }> = [\r\n    {\r\n        // 0\r\n        reserved: []\r\n    },\r\n    {\r\n        // 1\r\n        Temperature: []\r\n    },\r\n    {\r\n        // 2\r\n        Voltage: []\r\n    },\r\n    {\r\n        // 3\r\n        Current: []\r\n    },\r\n    {\r\n        // 4\r\n        Fan: []\r\n    },\r\n    {\r\n        // 5\r\n        \"Physical Security\": [\r\n            \"General Chassis Intrusion\",\r\n            \"Drive Bay intrusion\",\r\n            \"I/O Card area intrusion\",\r\n            \"Processor area intrusion\",\r\n            \"LAN Leash Lost\",\r\n            \"Unauthorized dock\",\r\n            \"FAN area intrusion\"\r\n        ]\r\n    },\r\n    {\r\n        // 6\r\n        \"Platform Security Violation Attempt\": [\r\n            \"Secure Mode (Front Panel Lockout) Violation attempt\",\r\n            \"Pre-boot Password Violation - user password\",\r\n            \"Pre-boot Password Violation attempt - setup password\",\r\n            \"Pre-boot Password Violation - network boot password\",\r\n            \"Other pre-boot Password Violation\",\r\n            \"Out-of-band Access Password Violation\"\r\n        ]\r\n    },\r\n    {\r\n        // 7\r\n        Processor: [\r\n            \"IERR\",\r\n            \"Thermal Trip\",\r\n            \"FRB1/BIST failure\",\r\n            \"FRB2/Hang in POST failure\",\r\n            \"FRB3/Processor Startup/Initialization failure\",\r\n            \"Configuration Error\",\r\n            \"SM BIOS Uncorrectable CPU-complex Error\",\r\n            \"Processor Presence detected\",\r\n            \"Processor disabled\",\r\n            \"Terminator Presence Detected\",\r\n            \"Processor Automatically Throttled\",\r\n            \"Machine Check Exception (Uncorrectable)\",\r\n            \"Correctable Machine Check Error\"\r\n        ]\r\n    },\r\n    {\r\n        // 8\r\n        \"Power Supply\": [\r\n            \"Presence detected\",\r\n            \"Power Supply Failure detected\",\r\n            \"Predictive Failure\",\r\n            \"Power Supply input lost (AC/DC)\",\r\n            \"Power Supply input lost or out-of-range\",\r\n            \"Power Supply input out-of-range, but present\",\r\n            \"Configuration error\",\r\n            \"Power Supply Inactive (in standby state)\"\r\n        ]\r\n    },\r\n    {\r\n        // 9\r\n        \"Power Unit\": [\r\n            \"Power Off / Power Down\",\r\n            \"Power Cycle\",\r\n            \"240VA Power Down\",\r\n            \"Interlock Power Down\",\r\n            \"AC lost / Power input lost (The power source for the power unit was lost)\",\r\n            \"Soft Power Control Failure (unit did not respond to request to turn on)\",\r\n            \"Power Unit Failure detected\",\r\n            \"Predictive Failure\"\r\n        ]\r\n    },\r\n    {\r\n        // a\r\n        \"Cooling Device\": []\r\n    },\r\n    {\r\n        // b\r\n        \"Other Units-based Sensor\": []\r\n    },\r\n    {\r\n        // c\r\n        Memory: [\r\n            \"Correctable ECC / other correctable memory error\",\r\n            \"Uncorrectable ECC / other uncorrectable memory error\",\r\n            \"Parity\",\r\n            \"Memory Scrub Failed (stuck bit)\",\r\n            \"Memory Device Disabled\",\r\n            \"Correctable ECC / other correctable memory error logging limit reached\",\r\n            \"Presence detected\",\r\n            \"Configuration error\",\r\n            \"Spare\",\r\n            \"Memory Automatically Throttled\",\r\n            \"Critical Overtemperature\"\r\n        ]\r\n    },\r\n    {\r\n        // d\r\n        \"Drive Slot (Bay)\": [\r\n            \"Drive Presence\",\r\n            \"Drive Fault\",\r\n            \"Predictive Failure\",\r\n            \"Hot Spare\",\r\n            \"Consistency Check / Parity Check in progress\",\r\n            \"In Critical Array\",\r\n            \"In Failed Array\",\r\n            \"Rebuild/Remap in progress\",\r\n            \"Rebuild/Remap Aborted (was not completed normally)\"\r\n        ]\r\n    },\r\n    {\r\n        // e\r\n        \"POST Memory Resize\": []\r\n    },\r\n    {\r\n        // f\r\n        \"System Firmware Progress\": [\r\n            \"System Firmware Error (POST Error)\",\r\n            \"System Firmware Hang\",\r\n            \"System Firmware Progress\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x10\r\n        \"Event Logging Disabled\": [\r\n            \"Correctable Memory Error Logging Disabled\",\r\n            \"Event `Type` Logging Disabled.\",\r\n            \"Log Area Reset/Cleared\",\r\n            \"All Event Logging Disabled\",\r\n            \"SEL Full\",\r\n            \"SEL Almost Full\",\r\n            \"Correctable Machine Check Error Logging Disabled\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x11\r\n        \"Watchdog 1\": [\r\n            \"BIOS Watchdog Reset\",\r\n            \"OS Watchdog Reset\",\r\n            \"OS Watchdog Shut Down\",\r\n            \"OS Watchdog Power Down\",\r\n            \"OS Watchdog Power Cycle\",\r\n            \"OS Watchdog NMI / Diagnostic Interrupt\",\r\n            \"OS Watchdog Expired, status only\",\r\n            \"OS Watchdog pre-timeout Interrupt, non-NMI\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x12\r\n        \"System Event\": [\r\n            \"System Reconfigured\",\r\n            \"OEM System Boot Event\",\r\n            \"Undetermined system hardware failure\",\r\n            \"Entry added to Auxiliary Log\",\r\n            \"PEF Action\",\r\n            \"Timestamp Clock Synch.\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x13\r\n        \"Critical Interrupt\": [\r\n            \"Front Panel NMI / Diagnostic Interrupt\",\r\n            \"Bus Timeout\",\r\n            \"I/O channel check NMI\",\r\n            \"Software NMI\",\r\n            \"PCI PERR\",\r\n            \"PCI SERR\",\r\n            \"EISA Fail Safe Timeout\",\r\n            \"Bus Correctable Error\",\r\n            \"Bus Uncorrectable Error\",\r\n            \"Fatal NMI (port 61h, bit 7)\",\r\n            \"Bus Fatal Error\",\r\n            \"Bus Degraded\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x14\r\n        \"Button / Switch\": [\r\n            \"Power Button pressed\",\r\n            \"Sleep Button pressed\",\r\n            \"Reset Button pressed\",\r\n            \"FRU latch open\",\r\n            \"FRU service request button\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x15\r\n        \"Module / Board\": []\r\n    },\r\n    {\r\n        // 0x16\r\n        \"Microcontroller / Coprocessor\": []\r\n    },\r\n    {\r\n        // 0x17\r\n        \"Add-in Card\": []\r\n    },\r\n    {\r\n        // 0x18\r\n        Chassis: []\r\n    },\r\n    {\r\n        // 0x19\r\n        \"Chip Set\": [\"Soft Power Control Failure\", \"Thermal Trip\"]\r\n    },\r\n    {\r\n        // 0x1a\r\n        \"Other FRU\": []\r\n    },\r\n    {\r\n        // 0x1b\r\n        \"Cable / Interconnect\": [\r\n            \"Cable/Interconnect is connected\",\r\n            \"Configuration Error\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x1c\r\n        Terminator: []\r\n    },\r\n    {\r\n        // 0x1d\r\n        \"System Boot / Restart Initiated\": [\r\n            \"Initiated by power up\",\r\n            \"Initiated by hard reset (this would typically be generated by\",\r\n            \"Initiated by warm reset (this would typically be generated by\",\r\n            \"User requested PXE boot\",\r\n            \"Automatic boot to diagnostic\",\r\n            \"OS / run-time software initiated hard reset\",\r\n            \"OS / run-time software initiated warm reset\",\r\n            \"System Restart\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x1e\r\n        \"Boot Error\": [\r\n            \"No bootable media\",\r\n            \"Non-bootable diskette left in drive\",\r\n            \"PXE Server not found\",\r\n            \"Invalid boot sector\",\r\n            \"Timeout waiting for user selection of boot source\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x1f\r\n        \"Base OS Boot / Installation Status\": [\r\n            \"A: boot completed\",\r\n            \"C: boot completed\",\r\n            \"PXE boot completed\",\r\n            \"Diagnostic boot completed\",\r\n            \"CD-ROM boot completed\",\r\n            \"ROM boot completed\",\r\n            \"boot completed - boot device not specified\",\r\n            \"Base OS/Hypervisor Installation started \",\r\n            \"Base OS/Hypervisor Installation completed\",\r\n            \"Base OS/Hypervisor Installation aborted\",\r\n            \"Base OS/Hypervisor Installation failed\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x20\r\n        \"OS Stop / Shutdown\": [\r\n            \"Critical stop during OS load / initialization\",\r\n            \"Run-time Critical Stop (a.k.a. `core dump`, `blue screen`)\",\r\n            \"OS Graceful Stop\",\r\n            \"OS Graceful Shutdown\",\r\n            \"Soft Shutdown initiated by PEF\",\r\n            \"Agent Not Responding\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x21\r\n        \"Slot / Connector\": [\r\n            \"Fault Status asserted\",\r\n            \"Identify Status asserted\",\r\n            \"Slot / Connector Device installed/attached\",\r\n            \"Slot / Connector Ready for Device Installation\",\r\n            \"Slot/Connector Ready for Device Removal\",\r\n            \"Slot Power is Off\",\r\n            \"Slot / Connector Device Removal Request\",\r\n            \"Interlock asserted\",\r\n            \"Slot is Disabled\",\r\n            \"Slot holds spare device\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x22\r\n        \"System ACPI Power State\": [\r\n            \"S0 / G0 working\",\r\n            \"S1 sleeping with system h/w & processor context maintained\",\r\n            \"S2 sleeping, processor context lost\",\r\n            \"S3 sleeping, processor & h/w context lost, memory retained\",\r\n            \"S4 non-volatile sleep / suspend-to disk\",\r\n            \"S5 / G2 soft-off\",\r\n            \"S4 / S5 soft-off, particular S4 / S5 state cannot be determined\",\r\n            \"G3 / Mechanical Off\",\r\n            \"Sleeping in an S1, S2, or S3 states\",\r\n            \"G1 sleeping\",\r\n            \"S5 entered by override\",\r\n            \"Legacy ON state\",\r\n            \"Legacy OFF state\",\r\n            \"unspecified\",\r\n            \"Unknown\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x23\r\n        \"Watchdog 2\": [\r\n            \"Timer expired, status only\",\r\n            \"Hard Reset\",\r\n            \"Power Down\",\r\n            \"Power Cycle\",\r\n            \"reserved\",\r\n            \"reserved\",\r\n            \"reserved\",\r\n            \"reserved\",\r\n            \"Timer interrupt\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x24\r\n        \"Platform Alert\": [\r\n            \"platform generated page\",\r\n            \"platform generated LAN alert\",\r\n            \"Platform Event Trap generated\",\r\n            \"platform generated SNMP trap, OEM format\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x25\r\n        \"Entity Presence\": [\r\n            \"Entity Present\",\r\n            \"Entity Absent\",\r\n            \"Entity Disabled\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x26\r\n        \"Monitor ASIC / IC\": []\r\n    },\r\n    {\r\n        // 0x27\r\n        LAN: [\"LAN Heartbeat Lost\", \"LAN Heartbeat\"]\r\n    },\r\n    {\r\n        // 0x28\r\n        \"Management Subsystem Health\": [\r\n            \"sensor access degraded or unavailable\",\r\n            \"controller access degraded or unavailable\",\r\n            \"management controller off-line\",\r\n            \"management controller unavailable\",\r\n            \"Sensor failure\",\r\n            \"FRU failure\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x29\r\n        Battery: [\r\n            \"battery low (predictive failure)\",\r\n            \"battery failed\",\r\n            \"battery presence detected\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x2a\r\n        \"Session Audit\": [\r\n            \"Session Activated\",\r\n            \"Session Deactivated\",\r\n            \"Invalid Username or Password\",\r\n            \"Invalid password disable\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x2b\r\n        \"Version Change\": [\r\n            \"Hardware change detected with associated Entity\",\r\n            \"Firmware or software change detected with associated Entity\",\r\n            \"Hardware incompatibility detected with associated Entity\",\r\n            \"Firmware or software incompatibility detected with associated Entity\",\r\n            \"Entity is of an invalid or unsupported hardware version\",\r\n            \"Entity contains an invalid or unsupported firmware or software version\",\r\n            \"Hardware Change detected with associated Entity was successful\",\r\n            \"Software or F/W Change detected with associated Entity was successful\"\r\n        ]\r\n    },\r\n    {\r\n        // 0x2c\r\n        \"FRU State\": [\r\n            \"FRU Not Installed\",\r\n            \"FRU Inactive (in standby or `hot spare` state)\",\r\n            \"FRU Activation Requested\",\r\n            \"FRU Activation In Progress\",\r\n            \"FRU Active\",\r\n            \"FRU Deactivation Requested\",\r\n            \"FRU Deactivation In Progress\",\r\n            \"FRU Communication Lost\"\r\n        ]\r\n    }\r\n]\r\n\r\nconst event_data: {\r\n    [sensor_type: number]: {\r\n        [offset: number]: (selr: {\r\n            event_data2: number\r\n            event_data3: number\r\n        }) => { d2?: string; d3?: string }\r\n    }\r\n} = {\r\n    0x05: {\r\n        // Physical Security\r\n        0x04: (selr) => {\r\n            // LAN Leash Lost\r\n            return { d2: `network controller #${selr.event_data2}` }\r\n        }\r\n    },\r\n    0x08: {\r\n        // Power Supply\r\n        0x06: (selr) => {\r\n            // Configuration error\r\n            const error_types = [\r\n                \"Vendor mismatch\",\r\n                \"Revision mismatch\",\r\n                \"Processor missing\",\r\n                \"Power Supply rating mismatch\",\r\n                \"Voltage rating mismatch\"\r\n            ]\r\n            return {\r\n                d3: error_types.indexOfOr(selr.event_data3 & 0xf, \"reserved\")\r\n            }\r\n        }\r\n    },\r\n    0x0c: {\r\n        // Memory\r\n        0x00: (selr) => {\r\n            // 0~8h\r\n            return { d3: `Memory #${selr.event_data3}` }\r\n        }\r\n    },\r\n    0x0f: {\r\n        // System Firmware Progress\r\n        0x00: (selr) => {\r\n            // System Firmware Error\r\n            const error_types = [\r\n                \"Unspecified\",\r\n                \"No system memory is physically installed in the system\",\r\n                \"No usable system memory\",\r\n                \"Unrecoverable hard-disk/ATAPI/IDE device failure\",\r\n                \"Unrecoverable system-board failure\",\r\n                \"Unrecoverable diskette subsystem failure\",\r\n                \"Unrecoverable hard-disk controller failure\",\r\n                \"Unrecoverable PS/2 or USB keyboard failure\",\r\n                \"Removable boot media not found\",\r\n                \"Unrecoverable video controller failure\",\r\n                \"No video device detected\",\r\n                \"Firmware (BIOS) ROM corruption detected\",\r\n                \"CPU voltage mismatch (processors that share same supply\",\r\n                \"CPU speed matching failure\"\r\n            ]\r\n            return { d2: error_types.indexOfOr(selr.event_data2, \"reserved\") }\r\n        },\r\n        // System Firmware Hang\r\n        // 0x01: same as event_data[0x0f][0x00], will set later\r\n        0x02: (selr) => {\r\n            // System Firmware Progress\r\n            const error_types = [\r\n                \"Unspecified\",\r\n                \"Memory initialization\",\r\n                \"Hard-disk initialization\",\r\n                \"Secondary processor(s) initialization\",\r\n                \"User authentication\",\r\n                \"User-initiated system setup\",\r\n                \"USB resource configuration\",\r\n                \"PCI resource configuration\",\r\n                \"Option ROM initialization\",\r\n                \"Video initialization\",\r\n                \"Cache initialization\",\r\n                \"SM Bus initialization\",\r\n                \"Keyboard controller initialization\",\r\n                \"Embedded controller/management controller initialization\",\r\n                \"Docking station attachment\",\r\n                \"Enabling docking station\",\r\n                \"Docking station ejection\",\r\n                \"Disabling docking station\",\r\n                \"Calling operating system wake-up vector\",\r\n                \"Starting operating system boot process, e.g. calling Int 19h\",\r\n                \"Baseboard or motherboard initialization\",\r\n                \"reserved\",\r\n                \"Floppy initialization\",\r\n                \"Keyboard test\",\r\n                \"Pointing device test\",\r\n                \"Primary processor initialization\"\r\n            ]\r\n            return { d2: error_types.indexOfOr(selr.event_data2, \"reserved\") }\r\n        }\r\n    },\r\n    0x10: {\r\n        // Event Logging Disabled\r\n        0x00: (selr) => {\r\n            // Correctable Memory Error Logging Disabled\r\n            return { d2: `Memory #${selr.event_data2}` }\r\n        },\r\n        0x01: (selr) => {\r\n            // Event Type Logging Disabled\r\n            const et = name_of_et(selr.event_data2)\r\n            let s: string\r\n            if (selr.event_data3 >> 5 === 1) {\r\n                s = \"logging has been disabled for all events of given type\"\r\n            } else {\r\n                const dir = selr.event_data3 >> 4 === 1 ? \"assert\" : \"deassert\"\r\n                const os = p_event(\r\n                    selr.event_data2,\r\n                    selr.event_data3 & 0xf,\r\n                    0xff\r\n                )\r\n                s = `logging is disabled for ${dir}: ${os}`\r\n            }\r\n            return { d2: et, d3: s }\r\n        },\r\n        0x05: (selr) => {\r\n            // SEL Almost Full\r\n            return { d3: `${selr.event_data3}% full` }\r\n        },\r\n        0x06: (selr) => {\r\n            // Correctable Machine Check Error Logging Disabled\r\n            const x = (selr.event_data3 >> 7) & 1\r\n            const d3 =\r\n                x === 0\r\n                    ? \"Entity Instance number\"\r\n                    : \"Vendor-specific processor number\"\r\n            return { d2: `#${selr.event_data2}`, d3 }\r\n        }\r\n    },\r\n    0x12: {\r\n        // System Event\r\n        0x03: (selr) => {\r\n            // Entry added to Auxiliary log\r\n            const actions = [\r\n                \"entry added\",\r\n                \"entry added because event did not be map to standard IPMI event\",\r\n                \"entry added along with one or more corresponding SEL entries\",\r\n                \"log cleared\",\r\n                \"log disabled\",\r\n                \"log enabled\"\r\n            ]\r\n            const types = [\"MCA Log\", \"OEM 1\", \"OEM 2\"]\r\n            const a = actions.indexOfOr(\r\n                (selr.event_data2 >> 4) & 0xf,\r\n                \"reserved\"\r\n            )\r\n            const t = types.indexOfOr(selr.event_data2 & 0xf, \"reserved\")\r\n            return { d2: `${t}, ${a}` }\r\n        },\r\n        0x04: (selr) => {\r\n            // PEF Action\r\n            const actions = [\r\n                \"Alert\",\r\n                \"power off\",\r\n                \"reset\",\r\n                \"power cycle\",\r\n                \"OEM action\",\r\n                \"Diagnostic Interrupt (NMI)\"\r\n            ]\r\n            const a = actions.bitsOr(selr.event_data2, \"reserved\")\r\n            return { d2: a.join(\", \") }\r\n        },\r\n        0x05: (selr) => {\r\n            // Timestamp Clock Synch.\r\n            const p =\r\n                selr.event_data2 >> 7 === 0 ? \"first of pair\" : \"second of pair\"\r\n            const t =\r\n                (selr.event_data2 & 0xf) === 0\r\n                    ? \"SEL Timestamp Clock updated\"\r\n                    : \"SDR Timestamp Clock updated\"\r\n            return { d2: `${t}, ${p}` }\r\n        }\r\n    },\r\n    0x19: {\r\n        // Chip Set\r\n        0x00: (selr) => {\r\n            // Soft Power Control Failure\r\n            const types = [\r\n                \"S0 / G0 working\",\r\n                \"S1 sleeping with system h/w & processor context maintained\",\r\n                \"S2 sleeping, processor context lost\",\r\n                \"S3 sleeping, processor & h/w context lost, memory retained\",\r\n                \"S4 non-volatile sleep / suspend-to disk\",\r\n                \"S5 / G2 soft-off\",\r\n                \"S4 / S5 soft-off, particular S4 / S5 state cannot be determined\",\r\n                \"G3 / Mechanical Off\",\r\n                \"Sleeping in an S1, S2, or S3 states\",\r\n                \"G1 sleeping (S1-S4 state cannot be determined)\",\r\n                \"S5 entered by override\",\r\n                \"Legacy ON state\",\r\n                \"Legacy OFF state\"\r\n            ]\r\n            const r = types.indexOfOr(selr.event_data2, \"reserved\")\r\n            const c = types.indexOfOr(selr.event_data3, \"reserved\")\r\n            return {\r\n                d2: `Requested power state: ${r}`,\r\n                d3: `Power state at time of request: ${c}`\r\n            }\r\n        }\r\n    },\r\n    0x1d: {\r\n        // system boot\r\n        0x07: (selr) => {\r\n            // system restart\r\n            const causes = [\r\n                \"unknown\",\r\n                \"Chassis Control command\",\r\n                \"reset via pushbutton\",\r\n                \"power-up via power pushbutton\",\r\n                \"Watchdog expiration\",\r\n                \"OEM\",\r\n                \"automatic power-up on AC being applied due to 'always restore' power restore policy\",\r\n                \"automatic power-up on AC being applied due to 'restore previous power state' power restore policy\",\r\n                \"reset via PEF\",\r\n                \"power-cycle via PEF\",\r\n                \"soft reset (e.g. CTRL-ALT-DEL)\",\r\n                \"power-up via RTC\"\r\n            ]\r\n            return {\r\n                d2: causes.indexOfOr(selr.event_data2, \"reserved\"),\r\n                d3: `from channel #${selr.event_data3}`\r\n            }\r\n        }\r\n    },\r\n    0x21: {\r\n        // slot/connector\r\n        0x00: (selr) => {\r\n            // 0~9h\r\n            const types = [\r\n                \"PCI\",\r\n                \"Drive Array\",\r\n                \"External Peripheral Connector\",\r\n                \"Docking\",\r\n                \"other standard internal expansion slot\",\r\n                \"slot associated with entity specified by Entity ID for sensor\",\r\n                \"AdvancedTCA\",\r\n                \"DIMM/memory device\",\r\n                \"FAN\",\r\n                \"PCI Express\",\r\n                \"SCSI (parallel)\",\r\n                \"SATA / SAS\"\r\n            ]\r\n            return {\r\n                d2: types.indexOfOr(selr.event_data2 & 0x7f, \"reserved\"),\r\n                d3: `Slot/Connector #${selr.event_data3}`\r\n            }\r\n        }\r\n    },\r\n    0x23: {\r\n        // watchdog 2\r\n        0x00: (selr) => {\r\n            // 0~3, 8h\r\n            const types = [\"none\", \"SMI\", \"NMI\", \"Messaging Interrupt\"]\r\n            const uses = [\r\n                \"reserved\",\r\n                \"BIOS FRB2\",\r\n                \"BIOS/POST\",\r\n                \"OS Load\",\r\n                \"SMS/OS\",\r\n                \"OEM\"\r\n            ]\r\n            const t = types.indexOfOr(\r\n                (selr.event_data2 >> 4) & 0xf,\r\n                \"unspecified\"\r\n            )\r\n            const u = uses.indexOfOr(selr.event_data2 & 0xf, \"unspecified\")\r\n            return { d2: `interrupt type: ${t}, timer use: ${u}` }\r\n        }\r\n    },\r\n    0x28: {\r\n        // management subsystem health\r\n        0x04: (selr) => {\r\n            // sensor failure\r\n            return { d2: `sensor number ${selr.event_data2.toHexh()}` }\r\n        },\r\n        0x05: (selr) => {\r\n            // FRU failure\r\n            const ed2 = selr.event_data2\r\n            const isLogic = ((ed2 >> 7) & 1) === 1\r\n            const d2 = `device is${\r\n                isLogic ? \"\" : \" not\"\r\n            } a logical FRU Device, LUN ${(ed2 >> 3) & 0x3}, bus ID ${ed2 & 3}`\r\n            let d3: string\r\n            if (isLogic) {\r\n                d3 = \"FRU Device ID\"\r\n            } else {\r\n                d3 = \"7-bit I2C Slave Address of FRU device\"\r\n            }\r\n            d3 += `: ${selr.event_data3.toHexh()}`\r\n            return { d2, d3 }\r\n        }\r\n    },\r\n    0x2a: {\r\n        // session audit\r\n        0x03: (selr) => {\r\n            // invalid password disable\r\n            const user = selr.event_data2 & 0x3f\r\n            const causes = [\r\n                \"Session deactivatation cause unspecified\",\r\n                \"Session deactivated by Close Session command\",\r\n                \"Session deactivated by timeout\",\r\n                \"Session deactivated by configuration change\"\r\n            ]\r\n            const cause = causes.indexOfOr(\r\n                (selr.event_data3 >> 4) & 3,\r\n                \"reserved\"\r\n            )\r\n            const ch = selr.event_data3 & 0xf\r\n            return { d2: `user ID: #${user}`, d3: `${cause}, channel #${ch}` }\r\n        }\r\n    },\r\n    0x2b: {\r\n        // version change\r\n        0x07: (selr) => {\r\n            // software or F/W chagne detected\r\n            const types = [\r\n                \"unspecified\",\r\n                \"management controller device ID (change in one or more fields from ‘Get Device ID’)\",\r\n                \"management controller firmware revision\",\r\n                \"management controller device revision\",\r\n                \"management controller manufacturer ID\",\r\n                \"management controller IPMI version\",\r\n                \"management controller auxiliary firmware ID\",\r\n                \"management controller firmware boot block\",\r\n                \"other management controller firmware\",\r\n                \"system firmware (EFI / BIOS) change\",\r\n                \"SMBIOS change\",\r\n                \"operating system change\",\r\n                \"operating system loader change\",\r\n                \"service or diagnostic partition change\",\r\n                \"management software agent change\",\r\n                \"management software application change\",\r\n                \"management software middleware change\",\r\n                \"programmable hardware change (e.g. FPGA)\",\r\n                \"board/FRU module change (change of a module plugged into associated entity)\",\r\n                \"board/FRU component change (addition or removal of a replaceable component on the board/FRU that is not tracked as a FRU)\",\r\n                \"board/FRU replaced with equivalent version\",\r\n                \"board/FRU replaced with newer version\",\r\n                \"board/FRU replaced with older version\",\r\n                \"board/FRU hardware configuration change (e.g. strap, jumper, cable change, etc.)\"\r\n            ]\r\n            return { d2: types.indexOfOr(selr.event_data2, \"reserved\") }\r\n        }\r\n    }\r\n}\r\n\r\n// memory offset 0~8h\r\nfor (let i = 1; i <= 8; i++) {\r\n    event_data[0x0c][i] = event_data[0x0c][0x00]\r\n}\r\n// System Firmware Hang\r\nevent_data[0x0f][0x01] = event_data[0x0f][0x00]\r\n// slot/connector offset 0~9h\r\nfor (let i = 1; i <= 9; i++) {\r\n    event_data[0x21][i] = event_data[0x21][0x00]\r\n}\r\n// watchdog 2 offset 0~3, 8h\r\nfor (let i = 1; i <= 3; i++) {\r\n    event_data[0x23][i] = event_data[0x23][0x00]\r\n}\r\nevent_data[0x23][8] = event_data[0x23][0x00]\r\n\r\nconst ipmi = {\r\n    event_data_field,\r\n    generic_event_type_codes,\r\n    sensor_type_codes,\r\n    event_data\r\n}\r\n\r\nenum EventType {\r\n    threshold = 1,\r\n    sensor_specific = 0x6f\r\n}\r\n\r\nenum SdrRecordType {\r\n    Full = 1,\r\n    Compact = 2,\r\n    EventOnly = 3,\r\n    FruDeviceLocator = 0x11,\r\n    ManagementControllerDeviceLocator = 0x12,\r\n    OEM = 0xc0\r\n}\r\n\r\nenum Linearization {\r\n    linear,\r\n    ln,\r\n    log10,\r\n    log2,\r\n    e,\r\n    exp10,\r\n    exp2,\r\n    reciprocal,\r\n    sqr,\r\n    cube,\r\n    sqrt,\r\n    cubeByNegOne\r\n}\r\n\r\nenum SensorUnitTypeCodes {\r\n    \"unspecified\",\r\n    \"degrees C\",\r\n    \"degrees F\",\r\n    \"degrees K\",\r\n    \"Volts\",\r\n    \"Amps\",\r\n    \"Watts\",\r\n    \"Joules\",\r\n    \"Coulombs\",\r\n    \"VA\",\r\n    \"Nits\",\r\n    \"lumen\",\r\n    \"lux\",\r\n    \"Candela\",\r\n    \"kPa\",\r\n    \"PSI\",\r\n    \"Newton\",\r\n    \"CFM\",\r\n    \"RPM\",\r\n    \"Hz\",\r\n    \"microsecond\",\r\n    \"millisecond\",\r\n    \"second\",\r\n    \"minute\",\r\n    \"hour\",\r\n    \"day\",\r\n    \"week\",\r\n    \"mil\",\r\n    \"inches\",\r\n    \"feet\",\r\n    \"cu in\",\r\n    \"cu feet\",\r\n    \"mm\",\r\n    \"cm\",\r\n    \"m\",\r\n    \"cu cm\",\r\n    \"cu m\",\r\n    \"liters\",\r\n    \"fluid ounce\",\r\n    \"radians\",\r\n    \"steradians\",\r\n    \"revolutions\",\r\n    \"cycles\",\r\n    \"gravities\",\r\n    \"ounce\",\r\n    \"pound\",\r\n    \"ft-lb\",\r\n    \"oz-in\",\r\n    \"gauss\",\r\n    \"gilberts\",\r\n    \"henry\",\r\n    \"millihenry\",\r\n    \"farad\",\r\n    \"microfarad\",\r\n    \"ohms\",\r\n    \"siemens\",\r\n    \"mole\",\r\n    \"becquerel\",\r\n    \"PPM\",\r\n    \"reserved\",\r\n    \"Decibels\",\r\n    \"DbA\",\r\n    \"DbC\",\r\n    \"gray\",\r\n    \"sievert\",\r\n    \"color temp deg K\",\r\n    \"bit\",\r\n    \"kilobit\",\r\n    \"megabit\",\r\n    \"gigabit\",\r\n    \"byte\",\r\n    \"kilobyte\",\r\n    \"megabyte\",\r\n    \"gigabyte\",\r\n    \"word\",\r\n    \"dword\",\r\n    \"qword\",\r\n    \"line\",\r\n    \"hit\",\r\n    \"miss\",\r\n    \"retry\",\r\n    \"reset\",\r\n    \"overrun / overflow\",\r\n    \"underrun\",\r\n    \"collision\",\r\n    \"packets\",\r\n    \"messages\",\r\n    \"characters\",\r\n    \"error\",\r\n    \"correctable error\",\r\n    \"uncorrectable error\",\r\n    \"fatal error\",\r\n    \"grams\"\r\n}\r\n\r\nfunction name_of_sdr_rt(n: number) {\r\n    return name_of(SdrRecordType, n)\r\n}\r\nfunction name_of_linear(n: number) {\r\n    return name_of(Linearization, n)\r\n}\r\nfunction name_of_unit(n: number) {\r\n    return name_of(SensorUnitTypeCodes, n)\r\n}\r\n\r\nfunction name_of_sel_rt(n: number) {\r\n    if (n === 2) {\r\n        return \"system event\"\r\n    }\r\n    if (n >= 0xc0 && n <= 0xdf) {\r\n        return \"OEM timestamped\"\r\n    }\r\n    if (n >= 0xe0 && n <= 0xff) {\r\n        return \"OEM non-timestamped\"\r\n    }\r\n    return \"unspecified\"\r\n}\r\nfunction name_of_et(n: number) {\r\n    n = n & 0x7f\r\n    if (n === 0) {\r\n        return \"unspecified\"\r\n    }\r\n    if (n === 1) {\r\n        return \"threshold\"\r\n    }\r\n    if (n >= 0x2 && n <= 0xc) {\r\n        return Object.keys(ipmi.generic_event_type_codes[n])[0]\r\n    }\r\n    if (n === 0x6f) {\r\n        return \"sensor-specific\"\r\n    }\r\n    if (n >= 0x70 && n <= 0x7f) {\r\n        return \"OEM\"\r\n    }\r\n    // 0dh-6eh\r\n    return \"reserved\"\r\n}\r\nfunction name_of_st(n: number) {\r\n    if (n < ipmi.sensor_type_codes.length) {\r\n        return Object.keys(ipmi.sensor_type_codes[n])[0]\r\n    }\r\n    if (n >= 0xc0 && n <= 0xff) {\r\n        return \"OEM\"\r\n    }\r\n    return \"reserved\"\r\n}\r\nfunction p_edf(et: number, n: number) {\r\n    // table 29-6 event data field\r\n    et = et & 0x7f\r\n    let k: string\r\n    if (et === 1) {\r\n        k = \"threshold\"\r\n    } else if (et >= 0x2 && et <= 0xc) {\r\n        k = \"discrete\"\r\n    } else if (et === 0x6f) {\r\n        k = \"discrete\"\r\n    } else {\r\n        k = \"OEM\"\r\n    }\r\n    const b76 = (n >> 6) & 0x3\r\n    const b54 = (n >> 4) & 0x3\r\n    // console.log('n ' + (n >> 4) + ', k ' + k + ', b76 ' + b76 + ', b54 ' + b54)\r\n    return (\r\n        ipmi.event_data_field[k].b76[b76] +\r\n        \", \" +\r\n        ipmi.event_data_field[k].b54[b54]\r\n    )\r\n}\r\nfunction p_event(n: number, offset: number, sensor_type: number) {\r\n    n = n & 0x7f\r\n    offset = offset & 0xf\r\n\r\n    if (n === 0) {\r\n        return \"unspecified\"\r\n    }\r\n    if (n >= 0x1 && n <= 0xc) {\r\n        return p_generic_event(n, offset)\r\n    }\r\n    if (n === 0x6f) {\r\n        return p_sensor_event(sensor_type, offset)\r\n    }\r\n\r\n    if (n >= 0x70 && n <= 0x7f) {\r\n        return \"OEM\"\r\n    } else {\r\n        // [0xd, 0x6e]\r\n        return \"reserved\"\r\n    }\r\n}\r\nfunction p_generic_event(n: number, offset: number) {\r\n    const x = ipmi.generic_event_type_codes[n]\r\n    const values = Object.values(x)[0]\r\n    if (offset >= values.length) {\r\n        return \"unspecified\"\r\n    }\r\n    return values[offset]\r\n}\r\nfunction p_sensor_event(n: number, offset: number) {\r\n    if (n === 0) {\r\n        return \"reserved\"\r\n    }\r\n    if (n >= ipmi.sensor_type_codes.length && n <= 0xc0) {\r\n        return \"reserved\"\r\n    }\r\n    if (n >= 0xc0 && n <= 0xff) {\r\n        return \"OEM\"\r\n    }\r\n\r\n    // n in range: [01h, ipmi.sensor_type_codes.length)\r\n    const x = ipmi.sensor_type_codes[n]\r\n    const name = Object.keys(x)[0]\r\n    const values = Object.values(x)[0]\r\n    if (n >= 1 && n <= 4) {\r\n        return name\r\n    }\r\n    // n in range: [05h, ipmi.sensor_type_codes.length)\r\n    if (offset >= values.length) {\r\n        return \"unspecified\"\r\n    }\r\n    return values[offset]\r\n}\r\n\r\nexport { ipmi }\r\nexport { EventType, SdrRecordType, Linearization, SensorUnitTypeCodes }\r\nexport {\r\n    name_of_sdr_rt,\r\n    name_of_linear,\r\n    name_of_unit,\r\n    name_of_sel_rt,\r\n    name_of_et,\r\n    name_of_st\r\n}\r\nexport { p_event, p_edf }\r\n","function name_of(myEnum: any, n: number): string {\r\n    // https://stackoverflow.com/questions/18111657/how-to-get-names-of-enum-entries/18112157#18112157\r\n    const ns = n.toString(10)\r\n    for (const enumMember in myEnum) {\r\n        if (enumMember === ns) {\r\n            return myEnum[enumMember]\r\n        }\r\n    }\r\n    return n.toHexh()\r\n}\r\n\r\nfunction two_complement(v: number, bits: number = 8) {\r\n    if (v >> (bits - 1) === 0) {\r\n        // positive\r\n        return v\r\n    } else {\r\n        // negative\r\n        return v - (1 << bits)\r\n    }\r\n}\r\n\r\nfunction hex2ArrayBuffer(hex: string, offset: number = 0) {\r\n    let ns: number[] = []\r\n    hex.split(\"\\n\")\r\n        .filter((i) => i.startsWith(\"0000\"))\r\n        .forEach((j) =>\r\n            j\r\n                .split(/\\s+/)\r\n                .slice(1)\r\n                .forEach((k) => {\r\n                    ns.push(parseInt(k.substr(0, 2), 16))\r\n                    ns.push(parseInt(k.substr(2, 2), 16))\r\n                })\r\n        )\r\n    if (offset !== 0) {\r\n        ns = ns.slice(offset)\r\n    }\r\n    const ab = new ArrayBuffer(ns.length)\r\n    const ua = new Uint8Array(ab)\r\n    ns.forEach((_, i) => {\r\n        ua[i] = ns[i]\r\n    })\r\n    return ab\r\n}\r\n\r\nfunction str2ArrayBuffer(str: string) {\r\n    // https://stackoverflow.com/questions/6965107/converting-between-strings-and-arraybuffers/11058858#11058858\r\n    const buf = new ArrayBuffer(str.length)\r\n    const bufView = new Uint8Array(buf)\r\n    for (let i = 0, strLen = str.length; i < strLen; i++) {\r\n        bufView[i] = str.charCodeAt(i)\r\n    }\r\n    return buf\r\n}\r\n\r\nfunction ArrayBuffer2str(ab: ArrayBuffer) {\r\n    // https://stackoverflow.com/questions/26754486/how-to-convert-arraybuffer-to-string/38306880#38306880\r\n    // https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder\r\n    return new TextDecoder(\"ascii\").decode(new Uint8Array(ab))\r\n}\r\n\r\nexport {\r\n    name_of,\r\n    two_complement,\r\n    hex2ArrayBuffer,\r\n    str2ArrayBuffer,\r\n    ArrayBuffer2str\r\n}\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\"\r\nimport { read_file, Bag } from \"./Common\"\r\nimport { SelRecord, SdrRecord, SdrRecordType1 } from \"../ipmi\"\r\n\r\nexport interface sel_row {\r\n    id: number\r\n    rt: string\r\n    ts: string\r\n    ge: string\r\n    st: string\r\n    sn: string\r\n    sm?: string\r\n    ed: string\r\n    et: string\r\n    e: string\r\n    edf: string\r\n    ed2: string\r\n    ed3: string\r\n    ed2p?: string\r\n    ed3p?: string\r\n}\r\n\r\nexport default Vue.extend({\r\n    name: \"Sel\",\r\n    props: [\"bag\"],\r\n\r\n    data: () => ({\r\n        headers: [\r\n            {\r\n                text: \"ID\",\r\n                align: \"start\",\r\n                sortable: true,\r\n                value: \"id\"\r\n            },\r\n            { text: \"Record Type\", value: \"rt\" },\r\n            { text: \"Timestamp\", value: \"ts\" },\r\n            { text: \"Generator\", value: \"ge\" },\r\n            { text: \"Sensor Type\", value: \"st\" },\r\n            { text: \"Sensor # / Name\", value: \"sn\" },\r\n            { text: \"Event Dir\", value: \"ed\" },\r\n            { text: \"Event Type\", value: \"et\" },\r\n            { text: \"Event\", value: \"e\" },\r\n            { text: \"Event Data Field\", value: \"edf\" },\r\n            { text: \"Event Data 2\", value: \"ed2\" },\r\n            { text: \"Event Data 3\", value: \"ed3\" }\r\n        ],\r\n        rows: [] as sel_row[],\r\n        files: [] as File[]\r\n    }),\r\n    methods: {\r\n        add_drop_file(e: DragEvent) {\r\n            // https://github.com/vuetifyjs/vuetify/issues/7836\r\n            // vuetify not support input file drag\r\n            if (e.dataTransfer) {\r\n                this.files = Array.from(e.dataTransfer.files)\r\n            }\r\n        },\r\n        update_sel_with_sdr(\r\n            sels: SelRecord[],\r\n            sdrs: SdrRecord[],\r\n            rows: sel_row[]\r\n        ) {\r\n            // could be type1/2/3, but use type1 for short\r\n            const sdr_has_sensor_num = sdrs.filter(\r\n                (i: SdrRecord) => Object.keys(i).indexOf(\"sensor_num\") >= 0\r\n            ) as SdrRecordType1[]\r\n            //   console.log('update_sel called');\r\n            sels.forEach((selr: SelRecord, index: number) => {\r\n                const sdrr = sdr_has_sensor_num.find(\r\n                    (i) => i.sensor_num === selr.sensor_num\r\n                )\r\n                if (sdrr) {\r\n                    const r = rows[index]\r\n                    //   r.sm = sdrr.sensor_name\r\n                    this.$set(r, \"sm\", sdrr.sensor_name) // TODO: this line forceupdate, but why. should find a nice way\r\n                    //   console.log(`sname update by set: ${r.sn} => ${r.sm}`);\r\n                    if (selr.event_type === \"threshold\" && sdrr.reading) {\r\n                        r.ed2p = sdrr.reading(selr.event_data2)\r\n                        r.ed3p = sdrr.reading(selr.event_data3)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    },\r\n    watch: {\r\n        files() {\r\n            const rows = this.rows\r\n            while (rows.length > 0) {\r\n                rows.pop()\r\n            }\r\n            const bag = this.bag as Bag\r\n            bag.update = undefined\r\n\r\n            const on_data = (\r\n                _: number,\r\n                __: string,\r\n                data: string | ArrayBuffer\r\n            ) => {\r\n                // console.log(`index: ${index}, name: ${name}`);\r\n                if (data instanceof ArrayBuffer) {\r\n                    // should not go here, since we read file as_text\r\n                } else {\r\n                    //   console.log(data.substr(0, 100));\r\n                    const sels = SelRecord.from_str(data)\r\n\r\n                    sels.forEach((i) => {\r\n                        rows.push({\r\n                            id: i.id,\r\n                            rt: i.record_type,\r\n                            ts: i.timestamp,\r\n                            ge: i.generator,\r\n                            st: i.sensor_type,\r\n                            sn: i.sensor_num.toHexh(),\r\n                            ed: i.event_direction,\r\n                            et: i.event_type,\r\n                            e: i.event,\r\n                            edf: i.event_data_field,\r\n                            ed2: i.event_data2_parsed\r\n                                ? i.event_data2_parsed\r\n                                : i.event_data2.toDecHexh(),\r\n                            ed3: i.event_data3_parsed\r\n                                ? i.event_data3_parsed\r\n                                : i.event_data3.toDecHexh()\r\n                        })\r\n                    })\r\n\r\n                    bag.update = () => {\r\n                        if (bag.sdrs) {\r\n                            this.update_sel_with_sdr(sels, bag.sdrs, rows)\r\n                        }\r\n                    }\r\n                    bag.update()\r\n                }\r\n            }\r\n\r\n            read_file(this.files, on_data, true)\r\n        }\r\n    }\r\n})\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js??ref--19-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js??ref--19-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Sel.vue?vue&type=template&id=5ac096b1&\"\nimport script from \"./Sel.vue?vue&type=script&lang=ts&\"\nexport * from \"./Sel.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VContainer,VDataTable,VFileInput,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('h2',[_vm._v(\"SDR\")]),_c('v-text-field',{attrs:{\"label\":\"Raw\"},model:{value:(_vm.raw),callback:function ($$v) {_vm.raw=$$v},expression:\"raw\"}}),_c('div',{on:{\"drop\":function($event){$event.preventDefault();return _vm.add_drop_file($event)},\"dragover\":function($event){$event.preventDefault();}}},[_c('v-file-input',{attrs:{\"show-size\":\"\",\"dense\":\"\",\"label\":\"bin SDR file\",\"multiple\":\"\",\"chips\":\"\"},model:{value:(_vm.files),callback:function ($$v) {_vm.files=$$v},expression:\"files\"}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.rows,\"items-per-page\":5000,\"hide-default-footer\":\"\",\"dense\":\"\",\"id\":\"math\"},scopedSlots:_vm._u([{key:\"item.raw\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.raw !== undefined)?_c('v-text-field',{model:{value:(item.raw),callback:function ($$v) {_vm.$set(item, \"raw\", $$v)},expression:\"item.raw\"}}):_vm._e()]}},{key:\"item.re\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.rd && item.raw !== '')?_c('span',[_vm._v(_vm._s(item.rd(item.raw)))]):_vm._e()]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\"\n\nimport { read_file, Bag } from \"./Common\"\nimport {\n    SdrRecord,\n    SdrRecordType1,\n    name_of_sdr_rt,\n    name_of_et,\n    SdrRecordType2,\n    SdrRecordType3\n} from \"../ipmi\"\n\ntype IReading = (x: number) => string\ninterface sdr_row {\n    id: number\n    rt: string\n    sn: string\n    sm: string\n    st: string\n    et: string\n    raw?: string\n    si: string\n    fo: string\n    re: string\n    un: string\n    th: string\n    rd?: IReading\n}\n\nexport default Vue.extend({\n    name: \"Sdr\",\n    props: [\"bag\"],\n\n    data: () => ({\n        headers: [\n            {\n                text: \"ID\",\n                align: \"start\",\n                sortable: true,\n                value: \"id\"\n            },\n            { text: \"Record Type\", value: \"rt\" },\n            { text: \"Sensor #\", value: \"sn\" },\n            { text: \"Sensor Name\", value: \"sm\" },\n            { text: \"Sensor Type\", value: \"st\" },\n            { text: \"Event Type\", value: \"et\" },\n            { text: \"Raw\", value: \"raw\" },\n            { text: \"Signed\", value: \"si\" },\n            { text: \"Formula\", value: \"fo\" },\n            { text: \"Reading\", value: \"re\" },\n            { text: \"Unit\", value: \"un\" },\n            { text: \"Threshold / Event\", value: \"th\" }\n        ],\n        rows: [] as sdr_row[],\n        files: [] as File[],\n        default_raw_reading: 100, // default raw value of sensor reading\n        raw: \"100\"\n    }),\n    methods: {\n        add_drop_file(e: DragEvent) {\n            // https://github.com/vuetifyjs/vuetify/issues/7836\n            // vuetify not support input file drag\n            if (e.dataTransfer) {\n                this.files = Array.from(e.dataTransfer.files)\n            }\n        },\n        sorted_threshold(sdr: SdrRecordType1) {\n            if (!sdr.threshold) {\n                return []\n            }\n            const t = sdr.threshold\n            const ts = [t.unr, t.uc, t.unc, t.lnc, t.lc, t.lnr]\n            const vs: Array<{ v: number; s: string }> = []\n            ts.forEach((i) => {\n                vs.push(i ? i : { v: NaN, s: \"-\" })\n            })\n            return vs\n        },\n        update_mathjax() {\n            this.$nextTick(() => {\n                // console.log(\"update_mathjax\")\n                // ReferenceError: \"MathJax\" is not defined\n                // https://stackoverflow.com/questions/858181/how-to-check-a-not-defined-variable-in-javascript\n                if (typeof MathJax !== \"undefined\") {\n                    // if (typeof MathJax.Hub !== \"undefined\") {\n                    if (MathJax.Hub) {\n                        //   console.log('update_mathjax queue');\n                        MathJax.Hub.Queue([\"Typeset\", MathJax.Hub, \"math\"])\n                    }\n                }\n            })\n        }\n    },\n    watch: {\n        raw() {\n            //   console.log(this.raw);\n            this.rows.forEach((r) => {\n                if (r.raw !== undefined) {\n                    r.raw = this.raw\n                }\n            })\n        },\n        files() {\n            const rows = this.rows\n            while (rows.length > 0) {\n                rows.pop()\n            }\n            const bag = this.bag as Bag\n            bag.sdrs = undefined\n\n            const on_data = (\n                _: number,\n                __: string,\n                data: string | ArrayBuffer\n            ) => {\n                // console.log(`index: ${index}, name: ${name}`);\n                if (data instanceof ArrayBuffer) {\n                    const sdrs = SdrRecord.from(data)\n                    bag.sdrs = sdrs\n                    if (bag.update) {\n                        // console.log(\"called from sdr\");\n                        bag.update()\n                    }\n\n                    sdrs.forEach((i) => {\n                        const row: sdr_row = {\n                            id: i.record_id,\n                            rt: name_of_sdr_rt(i.record_type),\n                            sn: \"\",\n                            sm: \"\",\n                            st: \"\",\n                            et: \"\",\n                            si: \"\",\n                            fo: \"\",\n                            re: \"\",\n                            un: \"\",\n                            th: \"\"\n                        }\n\n                        if (\n                            i instanceof SdrRecordType1 ||\n                            i instanceof SdrRecordType2 ||\n                            i instanceof SdrRecordType3\n                        ) {\n                            row.sn = i.sensor_num.toHexh()\n                            row.sm = i.sensor_name\n                            row.st = i.sensor_type\n                            row.et = name_of_et(i.event_type)\n\n                            if (\n                                i instanceof SdrRecordType1 ||\n                                i instanceof SdrRecordType2\n                            ) {\n                                if (i.event) {\n                                    row.th = i.event.map((j) => j.s).join(\" | \")\n                                }\n\n                                if (i instanceof SdrRecordType1) {\n                                    row.un = i.unit\n                                    row.raw = this.default_raw_reading.toString(\n                                        10\n                                    )\n                                    row.si = i.signed ? \"signed\" : \"unsigned\"\n                                    row.fo = i.get_reading_formula_text()\n                                    row.re = i.reading(row.raw)\n                                    row.rd = i.reading\n                                    if (i.threshold) {\n                                        row.th = this.sorted_threshold(i)\n                                            .map((j) => j.s)\n                                            .join(\" | \")\n                                    }\n                                }\n                            }\n                        }\n\n                        rows.push(row)\n                    })\n\n                    this.update_mathjax()\n                }\n            }\n\n            read_file(this.files, on_data, false)\n        }\n    }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js??ref--19-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sdr.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js??ref--19-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sdr.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Sdr.vue?vue&type=template&id=a716b00a&\"\nimport script from \"./Sdr.vue?vue&type=script&lang=ts&\"\nexport * from \"./Sdr.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VContainer,VDataTable,VFileInput,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('h3',[_vm._v(\"SEL\")]),_c('div',[_vm._v(\" Two SEL formats are supported: \"),_c('ul',[_c('li',[_vm._v(\" A SEL raw file downloaded from BMC web, with name like \"),_c('strong',[_vm._v(\"RawSELLog\")])]),_c('li',[_vm._v(\" A SEL bin file \"),_c('strong',[_vm._v(\"sel.bin\")]),_vm._v(\" dumped by ipmitool command: \"),_c('code',[_vm._v(\"ipmitool sel writeraw sel.bin\")])])])]),_c('h3',{staticClass:\"pt-3\"},[_vm._v(\"SDR\")]),_c('div',[_vm._v(\" A SDR bin file is dumped by ipmitool command: \"),_c('code',[_vm._v(\"ipmitool sdr dump sdr.bin\")])]),_c('h3',{staticClass:\"pt-3\"},[_vm._v(\"SEL and SDR\")]),_c('div',[_vm._v(\" When both SEL and SDR files are provided, sensor names and sensor readings in SEL will be updated with SDR info. \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\"\n\nexport default Vue.extend({\n    name: \"Help\",\n\n    data: () => ({})\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js??ref--19-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Help.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js??ref--19-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Help.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Help.vue?vue&type=template&id=29e84ec4&\"\nimport script from \"./Help.vue?vue&type=script&lang=ts&\"\nexport * from \"./Help.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VContainer})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\"\nimport Sel from \"./components/Sel.vue\"\nimport Sdr from \"./components/Sdr.vue\"\nimport Help from \"./components/Help.vue\"\nimport { Bag } from \"./components/Common\"\n\nexport default Vue.extend({\n    name: \"App\",\n\n    components: {\n        Sel,\n        Sdr,\n        Help\n    },\n\n    data: () => ({\n        loading: false,\n        page: \"sel\",\n        bag: {} as Bag\n    }),\n    methods: {\n        switch_page(page: string) {\n            this.page = page\n        }\n    },\n    created() {\n        // test slow loading\n        // setTimeout(() => {\n        //   this.loading = false\n        // }, 5000);\n    }\n})\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/vuetify-loader/lib/loader.js??ref--19-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/vuetify-loader/lib/loader.js??ref--19-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=46dd76e0&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VFooter } from 'vuetify/lib/components/VFooter';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VApp,VAppBar,VBtn,VFooter,VMain,VSpacer,VToolbarTitle})\n","import Vue from \"vue\"\nimport Vuetify from \"vuetify/lib\"\n\nVue.use(Vuetify)\n\nexport default new Vuetify({})\n","import Vue from \"vue\"\r\nimport App from \"./App.vue\"\r\nimport vuetify from \"./plugins/vuetify\"\r\n\r\nVue.config.productionTip = false\r\n\r\nconst myapp = new Vue({\r\n    vuetify,\r\n    render: (h) => h(App)\r\n}).$mount(\"#app\")\r\n\r\n// console.log(myapp);\r\n// https://stackoverflow.com/a/12709880\r\ndeclare global {\r\n    interface Window {\r\n        myapp: any\r\n    }\r\n}\r\n\r\nwindow.myapp = myapp\r\n// v-main: myapp.$children[0].$children[0].$children[1]\r\n"],"sourceRoot":""}